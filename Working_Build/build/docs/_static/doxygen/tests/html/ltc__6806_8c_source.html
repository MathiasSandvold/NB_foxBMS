<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>foxBMS - Unit Tests: ltc_6806.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style-sheet-file.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="foxbms250px.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">foxBMS - Unit Tests
   &#160;<span id="projectnumber">1.5.0</span>
   </div>
   <div id="projectbrief">The foxBMS Unit Tests API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ltc__6806_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ltc_6806.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ltc__6806_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @copyright &amp;copy; 2010 - 2023, Fraunhofer-Gesellschaft zur Foerderung der angewandten Forschung e.V.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * 1. Redistributions of source code must retain the above copyright notice, this</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *    list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright notice,</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *    this list of conditions and the following disclaimer in the documentation</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *    and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * 3. Neither the name of the copyright holder nor the names of its</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *    contributors may be used to endorse or promote products derived from</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *    this software without specific prior written permission.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * We kindly request you to use one or more of the following phrases to refer to</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * foxBMS in your hardware, software, documentation or advertising materials:</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * - &amp;Prime;This product uses parts of foxBMS&amp;reg;&amp;Prime;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * - &amp;Prime;This product includes parts of foxBMS&amp;reg;&amp;Prime;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * - &amp;Prime;This product is derived from foxBMS&amp;reg;&amp;Prime;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * @file    ltc_6806.c</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * @author  foxBMS Team</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * @date    2019-09-01 (date of creation)</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * @updated 2023-02-03 (date of last update)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * @version v1.5.0</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * @ingroup DRIVERS</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * @prefix  LTC</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * @brief   Driver for the LTC analog front-end.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/*========== Includes =======================================================*/</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/* clang-format off */</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ltc_8h.html">ltc.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ltc__6806__cfg_8h.html">ltc_6806_cfg.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/* clang-format on */</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;HL_spi.h&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;HL_system.h&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="afe__plausibility_8h.html">afe_plausibility.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="database_8h.html">database.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="diag_8h.html">diag.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="io_8h.html">io.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;ltc_pec.h&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="os_8h.html">os.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pex_8h.html">pex.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">/*========== Macros and Definitions =========================================*/</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> * TI port expander register addresses</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> * @{</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a14e39868d741d77a79ae8e698cb15bd0">   80</a></span>&#160;<span class="preprocessor">#define LTC_PORT_EXPANDER_TI_INPUT_REG_ADR  (0x00u)</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a034acf16a40b233805b5e55446422501">   81</a></span>&#160;<span class="preprocessor">#define LTC_PORT_EXPANDER_TI_OUTPUT_REG_ADR (0x01u)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a6f6943dc68cdaeea5c225866131e8c9b">   82</a></span>&#160;<span class="preprocessor">#define LTC_PORT_EXPANDER_TI_CONFIG_REG_ADR (0x03u)</span><span class="comment"></span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/**@}*/</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> * Value of the LSB in mV</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#if LTC_HIRNG == 0u</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a7848ae997d34061529791bcf92acc7c0">   89</a></span>&#160;<span class="preprocessor">#define LTC_FUEL_CELL_LSB_RESOLUTION_mV (1.5f)</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#define LTC_FUEL_CELL_LSB_RESOLUTION_mV (3.0f)</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"> * Value for positive full scale measurement for fuel cell</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ad2a7e215508682519eaea9e14699e1eb">   97</a></span>&#160;<span class="preprocessor">#define LTC_FUELCELL_POSITIVE_FULLSCALE_RANGE_mV ((int16_t)((0x7FF * LTC_FUEL_CELL_LSB_RESOLUTION_mV)))</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> * Value for negative full scale measurement for fuel cell</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#aac8d6273caa91c6cf0853b93868ea3a2">  102</a></span>&#160;<span class="preprocessor">#define LTC_FUELCELL_NEGATIVE_FULLSCALE_RANGE_mV \</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">    ((int16_t)((((~0x001) + 1) &amp; 0x7FF) * (-LTC_FUEL_CELL_LSB_RESOLUTION_mV)))</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/*========== Static Constant and Variable Definitions =======================*/</span><span class="comment"></span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"> * PEC buffer for RX and TX</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"> * @{</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/* AXIVION Disable Style MisraC2012-1.2: The Pec buffer must be put in the shared RAM section for performance reasons */</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#pragma SET_DATA_SECTION(&quot;.sharedRAM&quot;</span>)</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#add96e04495e7965da7206a251cb2b307">  112</a></span>&#160;uint16_t <a class="code" href="ltc__6806_8c.html#add96e04495e7965da7206a251cb2b307">ltc_RxPecBuffer</a>[<a class="code" href="ltc__cfg_8h.html#aa3f643ec54a39b58256f75a5e107e1d8">LTC_N_BYTES_FOR_DATA_TRANSMISSION</a>] = {0};</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a08fa1d21fd853dd4b5a0c10a8099fcd0">  113</a></span>&#160;uint16_t <a class="code" href="ltc__6806_8c.html#a08fa1d21fd853dd4b5a0c10a8099fcd0">ltc_TxPecBuffer</a>[<a class="code" href="ltc__cfg_8h.html#aa3f643ec54a39b58256f75a5e107e1d8">LTC_N_BYTES_FOR_DATA_TRANSMISSION</a>] = {0};</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#pragma SET_DATA_SECTION()</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/* AXIVION Enable Style MisraC2012-1.2: only Pec buffer needed to be in the shared RAM section */</span><span class="comment"></span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/**@}*/</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">/** index of used cells */</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a70e1553a68fcd105b3d8b1234660319f">  119</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a70e1553a68fcd105b3d8b1234660319f">ltc_used_cells_index</a>[<a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>] = {0};<span class="comment"></span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/** local copies of database tables */</span><span class="comment"></span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/**@{*/</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a7dd742c36350b8f923127ab93f784e89">  122</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html">DATA_BLOCK_CELL_VOLTAGE_s</a> <a class="code" href="ltc__6806_8c.html#a7dd742c36350b8f923127ab93f784e89">ltc_cellVoltage</a>         = {.<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#a8c16ff93527cc78be60e6ab61fd9e454">header</a>.<a class="code" href="structDATA__BLOCK__HEADER__s.html#ae8be8cd14e24d79a79a565efd53d6933">uniqueId</a> = <a class="code" href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57ae078fe346db28b01fdafee1daedbd37b">DATA_BLOCK_ID_CELL_VOLTAGE_BASE</a>};</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#af4ad57efd74974a7e631780c5079e760">  123</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html">DATA_BLOCK_CELL_TEMPERATURE_s</a> <a class="code" href="ltc__6806_8c.html#af4ad57efd74974a7e631780c5079e760">ltc_celltemperature</a> = {.<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#a76040c3bb5d88f1f64c912b713729e8b">header</a>.<a class="code" href="structDATA__BLOCK__HEADER__s.html#ae8be8cd14e24d79a79a565efd53d6933">uniqueId</a> = <a class="code" href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57a96aadf6134a9de94da371f37fd558e20">DATA_BLOCK_ID_CELL_TEMPERATURE_BASE</a>};</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a11dbfe76767f7c07648eed4c2c507bb6">  124</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html">DATA_BLOCK_ALL_GPIO_VOLTAGES_s</a> <a class="code" href="ltc__6806_8c.html#a11dbfe76767f7c07648eed4c2c507bb6">ltc_allgpiovoltage</a> = {.<a class="code" href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html#ab530980fc68e5c12eada6f81e6c78618">header</a>.<a class="code" href="structDATA__BLOCK__HEADER__s.html#ae8be8cd14e24d79a79a565efd53d6933">uniqueId</a> = <a class="code" href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57ae67036240a0a41bb25b056ba4223bd12">DATA_BLOCK_ID_ALL_GPIO_VOLTAGES_BASE</a>};</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a1876d6d06862e5b90604cde9401e3d65">  125</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html">DATA_BLOCK_OPEN_WIRE_s</a> <a class="code" href="ltc__6806_8c.html#a1876d6d06862e5b90604cde9401e3d65">ltc_openWire</a>               = {.<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#a0f29cf66d02b9d86b6e0a86ca2b8da9d">header</a>.<a class="code" href="structDATA__BLOCK__HEADER__s.html#ae8be8cd14e24d79a79a565efd53d6933">uniqueId</a> = <a class="code" href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57ac508b7dc814982c8bd6713dcc95daf14">DATA_BLOCK_ID_OPEN_WIRE_BASE</a>};<span class="comment"></span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/**@}*/</span><span class="comment"></span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/** stores information on the detected open wires locally */</span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ae729dfa6ea9dd57925f5f4ca2f103689">  128</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structLTC__OPENWIRE__DETECTION__s.html">LTC_OPENWIRE_DETECTION_s</a> <a class="code" href="ltc__6806_8c.html#ae729dfa6ea9dd57925f5f4ca2f103689">ltc_openWireDetection</a> = {0};</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ac494d29effc5f7b897f25f02f568ed8c">  129</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structLTC__ERRORTABLE__s.html">LTC_ERRORTABLE_s</a> <a class="code" href="ltc__6806_8c.html#ac494d29effc5f7b897f25f02f568ed8c">ltc_errorTable</a>                = {0}; <span class="comment">/*!&lt; init in LTC_ResetErrorTable-function */</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">/** local definition of plausible cell voltage values for the LTC 6806 */</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a346c9eea427d706ef24efe6c8615e0d7">  132</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structAFE__PLAUSIBILITY__VALUES__s.html">AFE_PLAUSIBILITY_VALUES_s</a> <a class="code" href="ltc__6806_8c.html#a346c9eea427d706ef24efe6c8615e0d7">ltc_plausibleCellVoltages6806</a> = {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    .<a class="code" href="structAFE__PLAUSIBILITY__VALUES__s.html#afa5e51c6216161014b5f957cc9690ef3">maximumPlausibleVoltage_mV</a> = 5000,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    .minimumPlausibleVoltage_mV = -5000,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;};</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/*========== Extern Constant and Variable Definitions =======================*/</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ab6caa54dfdafae4bebc8a33bff64fa96">  139</a></span>&#160;<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> <a class="code" href="ltc__6806_8c.html#ab6caa54dfdafae4bebc8a33bff64fa96">ltc_stateBase</a> = {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    .<a class="code" href="structLTC__STATE__s.html#a8f4edcd404244101bb5e534ea3fc76bc">timer</a>                     = 0,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    .statereq                  = {.request = <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a>, .string = 0xFFu},</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    .state                     = <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a07fdad695f6f58fa8be1d79bb85e070e">LTC_STATEMACH_UNINITIALIZED</a>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    .substate                  = 0,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    .laststate                 = <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a07fdad695f6f58fa8be1d79bb85e070e">LTC_STATEMACH_UNINITIALIZED</a>,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    .lastsubstate              = 0,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    .adcModereq                = <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2ad7ce7075a3058b2ce2a7499452eed8df">LTC_ADCMODE_FAST_DCP0</a>,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    .adcMode                   = <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2ad7ce7075a3058b2ce2a7499452eed8df">LTC_ADCMODE_FAST_DCP0</a>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    .adcMeasChreq              = <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455a3b6a6403ef212829cd2f8b62f169c27a">LTC_ADCMEAS_UNDEFINED</a>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    .adcMeasCh                 = <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455a3b6a6403ef212829cd2f8b62f169c27a">LTC_ADCMEAS_UNDEFINED</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    .numberOfMeasuredMux       = 32,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    .triggerentry              = 0,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    .ErrRetryCounter           = 0,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    .ErrRequestCounter         = 0,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    .VoltageSampleTime         = 0,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    .muxSampleTime             = 0,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    .commandDataTransferTime   = 3,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    .commandTransferTime       = 3,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    .gpioClocksTransferTime    = 3,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    .muxmeas_seqptr            = <a class="code" href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a>,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    .muxmeas_seqendptr         = <a class="code" href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a>,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    .muxmeas_nr_end            = 0,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    .first_measurement_made    = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    .ltc_muxcycle_finished     = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    .check_spi_flag            = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    .balance_control_done      = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    .transmit_ongoing          = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    .dummyByte_ongoing         = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    .ltcData.pSpiInterface     = <a class="code" href="spi__cfg_8c.html#ade6d2f4948d21b4efd6514817122670d">spi_ltcInterface</a>,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    .ltcData.txBuffer          = <a class="code" href="ltc__6806_8c.html#a08fa1d21fd853dd4b5a0c10a8099fcd0">ltc_TxPecBuffer</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    .ltcData.rxBuffer          = <a class="code" href="ltc__6806_8c.html#add96e04495e7965da7206a251cb2b307">ltc_RxPecBuffer</a>,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    .ltcData.frameLength       = <a class="code" href="ltc__cfg_8h.html#aa3f643ec54a39b58256f75a5e107e1d8">LTC_N_BYTES_FOR_DATA_TRANSMISSION</a>,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    .ltcData.cellVoltage       = &amp;<a class="code" href="ltc__6806_8c.html#a7dd742c36350b8f923127ab93f784e89">ltc_cellVoltage</a>,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    .ltcData.cellTemperature   = &amp;<a class="code" href="ltc__6806_8c.html#af4ad57efd74974a7e631780c5079e760">ltc_celltemperature</a>,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    .ltcData.balancingFeedback = <a class="code" href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    .ltcData.balancingControl  = <a class="code" href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    .ltcData.slaveControl      = <a class="code" href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a>,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    .ltcData.openWireDetection = &amp;<a class="code" href="ltc__6806_8c.html#ae729dfa6ea9dd57925f5f4ca2f103689">ltc_openWireDetection</a>,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    .ltcData.errorTable        = &amp;<a class="code" href="ltc__6806_8c.html#ac494d29effc5f7b897f25f02f568ed8c">ltc_errorTable</a>,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    .ltcData.allGpioVoltages   = &amp;<a class="code" href="ltc__6806_8c.html#a11dbfe76767f7c07648eed4c2c507bb6">ltc_allgpiovoltage</a>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    .ltcData.openWire          = &amp;<a class="code" href="ltc__6806_8c.html#a1876d6d06862e5b90604cde9401e3d65">ltc_openWire</a>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    .ltcData.usedCellIndex     = <a class="code" href="ltc__6806_8c.html#a70e1553a68fcd105b3d8b1234660319f">ltc_used_cells_index</a>,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    .currentString             = 0u,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    .requestedString           = 0u,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;};</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">  186</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">ltc_cmdWRCFG</a>[4] = {0x00, 0x01, 0x3D, 0x6E};</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a675df2a9cacd99edbd47eec6d5ab3e79">  187</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a675df2a9cacd99edbd47eec6d5ab3e79">ltc_cmdRDCFG</a>[4] = {0x00, 0x02, 0x2B, 0x0A};</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/* static uint16_t ltc_cmdRDAUXA[4] = {0x00, 0x0C, 0xEF, 0xCC};</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">static uint16_t ltc_cmdRDAUXB[4] = {0x00, 0x0E, 0x72, 0x9A};</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">static uint16_t ltc_cmdRDAUXC[4] = {0x00, 0x0D, 0x64, 0xFE};</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">static uint16_t ltc_cmdRDAUXD[4] = {0x00, 0x0F, 0xF9, 0xA8}; */</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a2bf428772686835ddaa8f9b24e899a26">  194</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a2bf428772686835ddaa8f9b24e899a26">ltc_cmdRDCVA_Fuelcell</a>[4] = {0x00, 0x04, 0x07, 0xC2};</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#abb754093f8cb682e0646505a25ddbed2">  195</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#abb754093f8cb682e0646505a25ddbed2">ltc_cmdRDCVB_Fuelcell</a>[4] = {0x00, 0x05, 0x8C, 0xF0};</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#af92967c2058b46aef67beecdd3218eb4">  196</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#af92967c2058b46aef67beecdd3218eb4">ltc_cmdRDCVC_Fuelcell</a>[4] = {0x00, 0x06, 0x9A, 0x94};</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a4d5112885fe7035b2960de338ff1d071">  197</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a4d5112885fe7035b2960de338ff1d071">ltc_cmdRDCVD_Fuelcell</a>[4] = {0x00, 0x07, 0x11, 0xA6};</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a63e8c47308def4ac2096e5f574b71f23">  198</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a63e8c47308def4ac2096e5f574b71f23">ltc_cmdRDCVE_Fuelcell</a>[4] = {0x00, 0x08, 0x5E, 0x52};</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ab74c4effdd5ff50af1d487682a6874db">  199</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#ab74c4effdd5ff50af1d487682a6874db">ltc_cmdRDCVF_Fuelcell</a>[4] = {0x00, 0x09, 0xD5, 0x60};</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a50b400c86e94539ae6e6c6abd8b41391">  200</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a50b400c86e94539ae6e6c6abd8b41391">ltc_cmdRDCVG_Fuelcell</a>[4] = {0x00, 0x0A, 0xC3, 0x04};</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a57c5f3a5e0d4780c01e104e5fb389870">  201</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a57c5f3a5e0d4780c01e104e5fb389870">ltc_cmdRDCVH_Fuelcell</a>[4] = {0x00, 0x0B, 0x48, 0x36};</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a03bc847817ee42435fdba47e7ff1f4fd">  202</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#a03bc847817ee42435fdba47e7ff1f4fd">ltc_cmdRDCVI_Fuelcell</a>[4] = {0x00, 0x0C, 0xEF, 0xCC};</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/* static uint16_t ltc_cmdMUTE[4] = {0x00, 0x28, 0xE8, 0x0E};                    !&lt; MUTE discharging via S pins */</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">/* static uint16_t ltc_cmdUNMUTE[4] = {0x00, 0x29, 0x63, 0x3C};                  !&lt; UN-MUTE discharging via S pins */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#afbba8f00e53a99341efca57039017a43">  207</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#afbba8f00e53a99341efca57039017a43">ltc_cmdADCV_normal_Fuelcell</a>[4] = {0x04, 0x40, 0xED, 0xB0}; <span class="comment">/*!&lt; All cells, normal mode */</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/* GPIOs  */</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_normal_GPIO1[4]   = {0x05, 0x61, 0x58, 0x92}; !&lt; Single channel, GPIO 1, normal mode   */</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_filtered_GPIO1[4] = {0x05, 0xE1, 0x1C, 0xB4}; !&lt; Single channel, GPIO 1, filtered mode */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_fast_GPIO1[4]     = {0x04, 0xE1, 0x94, 0xF8}; !&lt; Single channel, GPIO 1, fast mode     */</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_normal_GPIO2[4]   = {0x05, 0x62, 0x4E, 0xF6}; !&lt; Single channel, GPIO 2, normal mode   */</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_filtered_GPIO2[4] = {0x05, 0xE2, 0x0A, 0xD0}; !&lt; Single channel, GPIO 2, filtered mode */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_fast_GPIO2[4]     = {0x04, 0xE2, 0x82, 0x9C}; !&lt; Single channel, GPIO 2, fast mode     */</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_normal_GPIO3[4]   = {0x05, 0x63, 0xC5, 0xC4}; !&lt; Single channel, GPIO 3, normal mode   */</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_filtered_GPIO3[4] = {0x05, 0xE3, 0x81, 0xE2}; !&lt; Single channel, GPIO 3, filtered mode */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_fast_GPIO3[4]     = {0x04, 0xE3, 0x09, 0xAE}; !&lt; Single channel, GPIO 3, fast mode     */</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_normal_GPIO4[4] = {0x05, 0x64, 0x62, 0x3E};      !&lt; Single channel, GPIO 4, normal mode   */</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_filtered_GPIO4[4] = {0x05, 0xE4, 0x26, 0x18};    !&lt; Single channel, GPIO 4, filtered mode */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_fast_GPIO4[4] = {0x04, 0xE4, 0xAE, 0x54};        !&lt; Single channel, GPIO 4, fast mode     */</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_normal_GPIO5[4] = {0x05, 0x65, 0xE9, 0x0C};      !&lt; Single channel, GPIO 5, normal mode   */</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_filtered_GPIO5[4] = {0x05, 0xE5, 0xAD, 0x2A};    !&lt; Single channel, GPIO 5, filtered mode */</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_fast_GPIO5[4] = {0x04, 0xE5, 0x25, 0x66};        !&lt; Single channel, GPIO 5, fast mode     */</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_normal_ALLGPIOS[4] = {0x05, 0x60, 0xD3, 0xA0}; !&lt; All channels, normal mode             */</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_filtered_ALLGPIOS[4] =</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    {0x05, 0xE0, 0x97, 0x86};                                            !&lt; All channels, filtered mode           */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/* static uint16_t ltc_cmdADAX_fast_ALLGPIOS[4] = {0x04, 0xE0, 0x1F, 0xCA}; !&lt; All channels, fast mode               */</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">/* Open-wire */</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#af4b0118e62526439b3397ee02d7448ad">  231</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#af4b0118e62526439b3397ee02d7448ad">ltc_BC_cmdADOW_PUP_100ms_fuelcell</a>[4] =</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    {0x07, 0xC0, 0xBA, 0x70}; <span class="comment">/*!&lt; Broadcast, Pull-up current, All cells, normal mode, 100ms   */</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ae87b4a5c56ea97b4968de9f3651c52ec">  233</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="ltc__6806_8c.html#ae87b4a5c56ea97b4968de9f3651c52ec">ltc_BC_cmdADOW_PDOWN_100ms_fuelcell</a>[4] =</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    {0x06, 0xC0, 0x32, 0x3C}; <span class="comment">/*!&lt; Broadcast, Pull-down current, All cells, normal mode, 100ms */</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">/*========== Static Function Prototypes =====================================*/</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a428e368fcc014375016c63a714201070">LTC_SetFirstMeasurementCycleFinished</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#ad8da54dbf5d4f08339a5503091d94b7c">LTC_InitializeDatabase</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a> state, uint8_t substate, uint16_t timer_ms);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> retVal,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfa">DIAG_ID_e</a> diagCode,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a> state_ok,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    uint8_t substate_ok,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    uint16_t timer_ms_ok,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a> state_nok,</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    uint8_t substate_nok,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    uint16_t timer_ms_nok);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#ab465bc3da734177a75cf5d92218f3cd4">LTC_ResetErrorTable</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#aaf84ea01e26f5cabd668be8bc46eda9a">LTC_Init</a>(</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    uint16_t *pTxBuff,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    uint16_t *pRxBuff,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    uint32_t frameLength);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a0a7c52466ebf10c28061886c671582bd">LTC_StartVoltageMeasurement</a>(</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2">LTC_ADCMODE_e</a> adcMode,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455">LTC_ADCMEAS_CHAN_e</a> adcMeasCh);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a2784ea1ea6b725911b4da1aa5bd7f0c0">LTC_StartOpenWireMeasurement</a>(</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2">LTC_ADCMODE_e</a> adcMode,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    uint8_t PUP);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    uint16_t *pRxBuff,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    uint8_t registerSet,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    uint8_t stringNumber);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    uint16_t *DataBufferSPI_RX_with_PEC,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    uint8_t stringNumber);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    uint16_t *Command,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    uint16_t *pTxBuff,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    uint16_t *pRxBuff,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    uint32_t frameLength);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keyword">static</span> uint32_t <a class="code" href="ltc__6806_8c.html#a4fd9d165e4bc619474fe3d1653104833">LTC_GetSpiClock</a>(<a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a4d6cd672e9ee1b77017532fb3c1c8921">LTC_SetTransferTimes</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keyword">static</span> <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7">LTC_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a42d4f8653843aeee6f118782dfff2c20">LTC_CheckStateRequest</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state, <a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> statereq);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/*========== Static Function Implementations ================================*/</span><span class="comment"></span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"> * @brief   in the database, initializes the fields related to the LTC drivers.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"> * This function loops through all the LTC-related data fields in the database</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"> * and sets them to 0. It should be called in the initialization or re-initialization</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"> * routine of the LTC driver.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ad8da54dbf5d4f08339a5503091d94b7c">  301</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#ad8da54dbf5d4f08339a5503091d94b7c">LTC_InitializeDatabase</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    uint16_t i = 0;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">for</span> (uint8_t s = 0u; s &lt; <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>; s++) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#ac62253aeb16ef62290d200a588744068">state</a> = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="battery__system__cfg_8h.html#a9a1e02bc5e365ab27e5bcf5f2c4754b7">BS_NR_OF_CELL_BLOCKS_PER_STRING</a>; i++) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#af854ad1251714dd6c94701e5de88ecaa">cellVoltage_mV</a>[s][i]      = 0;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a9a39900629014eaa06b50ad3abb32600">openWirePup</a>[s][i]   = 0;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a69bde0ea0b4e2538e2c5cb4dcbe73f7b">openWirePdown</a>[s][i] = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a4a7443704177c66ce1550d8336527b1b">openWireDelta</a>[s][i] = 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#abb8215c63a3a165c26268d74fcb47d2d">state</a> = 0;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="battery__system__cfg_8h.html#aa7dfc0b2f2605e80af897419b02a095a">BS_NR_OF_TEMP_SENSORS_PER_STRING</a>; i++) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#a8b521697ab4d2ec35a6a437444ddbe69">cellTemperature_ddegC</a>[s][i] = 0;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a1c1ae86334054d91e91cf40815a6b19b">allGpioVoltages</a>-&gt;<a class="code" href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html#a7d9337b8bd5ab55dcdede92e213159ab">state</a> = 0;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; (<a class="code" href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a> * <a class="code" href="battery__system__cfg_8h.html#a956061145a966379ee73916187efc4be">BS_NR_OF_GPIOS_PER_MODULE</a>); i++) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a1c1ae86334054d91e91cf40815a6b19b">allGpioVoltages</a>-&gt;<a class="code" href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html#a31f7f38dc15e4e89cb0e9b2e3063f785">gpioVoltages_mV</a>[s][i] = 0;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; (<a class="code" href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a> * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a> + 1)); i++) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[s][i] = 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#a71f7e7f3069d97c971b8aac2f02e1ddb">state</a> = 0;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="database_8h.html#af068584af384a5b877a086bc718ae8cb">DATA_WRITE_DATA</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * @brief Saves the last state and the last substate</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">  337</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a6a76e850940e0ec911ea8ed2ed3d2bdc">laststate</a>    = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a9818917df5fe61ad9aac40a6e4b9e11a">state</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a7fedd36e8acb6dbdea29d63cdd54458c">lastsubstate</a> = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> * @brief   function for setting LTC_Trigger state transitions</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * @param  state:      state to transition into</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> * @param  substate:   substate to transition into</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> * @param  timer_ms:   transition into state, substate after timer elapsed</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">  350</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a> state, uint8_t substate, uint16_t timer_ms) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a9818917df5fe61ad9aac40a6e4b9e11a">state</a>    = state;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> = substate;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a8f4edcd404244101bb5e534ea3fc76bc">timer</a>    = timer_ms;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"> * @brief   condition-based state transition depending on retVal</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> * If retVal is #STD_OK, after timer_ms_ok is elapsed the LTC statemachine will</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> * transition into state_ok and substate_ok, otherwise after timer_ms_nok the</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> * statemachine will transition to state_nok and substate_nok. Depending on</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> * value of retVal the corresponding diagnosis entry will be called.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * @param  ltc_state    state of the ltc state machine</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * @param  retVal       condition to determine if state machine will transition</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> *                      into ok or nok states</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> * @param  diagCode     symbolic IDs for diagnosis entry, called with</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> *                      #DIAG_EVENT_OK if retVal is #STD_OK, #DIAG_EVENT_NOT_OK</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> *                      otherwise</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * @param  state_ok     state to transition into if retVal is #STD_OK</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> * @param  substate_ok  substate to transition into if retVal is #STD_OK</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> * @param  timer_ms_ok  transition into state_ok, substate_ok after timer_ms_ok</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> *                      elapsed</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * @param  state_nok    state to transition into if retVal is #STD_NOT_OK</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> * @param  substate_nok substate to transition into if retVal is #STD_NOT_OK</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"> * @param  timer_ms_nok transition into state_nok, substate_nok after</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"> *                      timer_ms_nok elapsed</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">  379</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> retVal,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfa">DIAG_ID_e</a> diagCode,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a> state_ok,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    uint8_t substate_ok,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    uint16_t timer_ms_ok,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a> state_nok,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    uint8_t substate_nok,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    uint16_t timer_ms_nok) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> ((retVal != <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>)) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="diag_8c.html#a9ccc8d9e39ec632833371523168c4927">DIAG_Handler</a>(diagCode, <a class="code" href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868acc5c525710883039317d306f8148f530">DIAG_EVENT_NOT_OK</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(ltc_state, state_nok, substate_nok, timer_ms_nok);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="diag_8c.html#a9ccc8d9e39ec632833371523168c4927">DIAG_Handler</a>(diagCode, <a class="code" href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868af6dc8eb4f6ae8e000e83ec9486007807">DIAG_EVENT_OK</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(ltc_state, state_ok, substate_ok, timer_ms_ok);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/*========== Extern Function Implementations ================================*/</span></div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#aa9babbfd0bbeef2b3107e8b28fb80b99">  399</a></span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#aa9babbfd0bbeef2b3107e8b28fb80b99">LTC_SaveVoltages</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state, uint8_t stringNumber) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">/* Pointer validity check */</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="fassert_8h.html#a2852c8164c3a4a492aa798e59180996d">FAS_ASSERT</a>(ltc_state != <a class="code" href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">/* Iterate over all cell to:</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">     * 1. Check open-wires and set respective cell measurements to invalid</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">     * 2. Perform minimum/maximum measurement value plausibility check</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">     * 3. Calculate string values</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> cellVoltageMeasurementValid = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    int32_t stringVoltage_mV                      = 0;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    uint16_t numberValidMeasurements              = 0;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">for</span> (uint8_t m = 0u; m &lt; <a class="code" href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a>; m++) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">for</span> (uint8_t c = 0u; c &lt; <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>; c++) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="comment">/* ------- 1. Check open-wires -----------------</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">                 * Is cell N input not open wire &amp;&amp;</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">                 * Is cell N+1 input not open wire &amp;&amp;</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">                 * Is cell voltage valid because of previous PEC error</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">                 * If so, everything okay, else set cell voltage measurement to invalid.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">if</span> ((ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                     -&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[stringNumber][(m * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a> + 1u)) + c] == 0u) &amp;&amp;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                     -&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[stringNumber][(m * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a> + 1u)) + c + 1u] == 0u) &amp;&amp;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                ((ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#acdb110cf3241029726e8b1b3d84b3816">invalidCellVoltage</a>[stringNumber][m] &amp; (0x01u &lt;&lt; c)) == 0u)) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <span class="comment">/* Cell voltage is valid -&gt; perform minimum/maximum plausibility check */</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="comment">/* ------- 2. Perform minimum/maximum measurement range check ---------- */</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a> == <a class="code" href="afe__plausibility_8c.html#ae3a0cab9bf3aeded2ce65f1d28bdda8b">AFE_PlausibilityCheckVoltageMeasurementRange</a>(</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                  ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                      -&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#af854ad1251714dd6c94701e5de88ecaa">cellVoltage_mV</a>[stringNumber][(m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>) + c],</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                  <a class="code" href="ltc__6806_8c.html#a346c9eea427d706ef24efe6c8615e0d7">ltc_plausibleCellVoltages6806</a>)) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <span class="comment">/* Cell voltage is valid -&gt;  calculate string voltage */</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    <span class="comment">/* -------- 3. Calculate string values ------------- */</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    stringVoltage_mV += ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                            -&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#af854ad1251714dd6c94701e5de88ecaa">cellVoltage_mV</a>[stringNumber][(m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>) + c];</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    numberValidMeasurements++;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    <span class="comment">/* Invalidate cell voltage measurement */</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#acdb110cf3241029726e8b1b3d84b3816">invalidCellVoltage</a>[stringNumber][m] |= (0x01u &lt;&lt; c);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    cellVoltageMeasurementValid = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="comment">/* Set cell voltage measurement value invalid, if not already invalid because of PEC Error */</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#acdb110cf3241029726e8b1b3d84b3816">invalidCellVoltage</a>[stringNumber][m] |= (0x01u &lt;&lt; c);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                cellVoltageMeasurementValid = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(cellVoltageMeasurementValid, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa1dca134f1d6be660f5d07fd7b2b89898">DIAG_ID_AFE_CELL_VOLTAGE_MEAS_ERROR</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, stringNumber);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#a06c3b844eb9b6a32c82714b787c6e83b">packVoltage_mV</a>[stringNumber]      = stringVoltage_mV;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#ade0f288950cc010c54e3914178af1b5f">nrValidCellVoltages</a>[stringNumber] = numberValidMeasurements;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">/* Increment state variable each time new values are written into database */</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#ac62253aeb16ef62290d200a588744068">state</a>++;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="database_8h.html#af068584af384a5b877a086bc718ae8cb">DATA_WRITE_DATA</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a6c664def5b7059842ab106bbb743775d">  459</a></span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a6c664def5b7059842ab106bbb743775d">LTC_SaveTemperatures</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state, uint8_t stringNumber) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> cellTemperatureMeasurementValid = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    uint16_t numberValidMeasurements                  = 0;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">for</span> (uint8_t m = 0u; m &lt; <a class="code" href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a>; m++) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">for</span> (uint8_t c = 0u; c &lt; <a class="code" href="battery__system__cfg_8h.html#a6e85c9c9cb9c49f0e29841223cedb80d">BS_NR_OF_TEMP_SENSORS_PER_MODULE</a>; c++) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="comment">/* ------- 1. Check valid flag  -----------------</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">                 * Is cell temperature valid because of previous PEC error</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">                 * If so, everything okay, else set cell temperature measurement to invalid.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordflow">if</span> ((ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#acc598ea6d0dbdf669a91a5a1589a7b24">invalidCellTemperature</a>[stringNumber][m] &amp; (0x01u &lt;&lt; c)) == 0u) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <span class="comment">/* Cell temperature is valid -&gt; perform minimum/maximum plausibility check */</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <span class="comment">/* ------- 2. Perform minimum/maximum measurement range check ---------- */</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a> ==</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    <a class="code" href="afe__plausibility_8c.html#a5f0f388fcad363cade4b5e340f06e211">AFE_PlausibilityCheckTempMinMax</a>(</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                            -&gt;<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#a8b521697ab4d2ec35a6a437444ddbe69">cellTemperature_ddegC</a>[stringNumber][(m * <a class="code" href="battery__system__cfg_8h.html#a6e85c9c9cb9c49f0e29841223cedb80d">BS_NR_OF_TEMP_SENSORS_PER_MODULE</a>) + c])) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    numberValidMeasurements++;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    <span class="comment">/* Invalidate cell temperature measurement */</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#acc598ea6d0dbdf669a91a5a1589a7b24">invalidCellTemperature</a>[stringNumber][m] |= (0x01u &lt;&lt; c);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    cellTemperatureMeasurementValid = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="comment">/* Already invalid because of PEC Error */</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                cellTemperatureMeasurementValid = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        cellTemperatureMeasurementValid, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa2b21bf909c19e5e1b43379b92a434896">DIAG_ID_AFE_CELL_TEMPERATURE_MEAS_ERROR</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, stringNumber);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#aa29242544edf6ca4b3416e4b00ad886d">nrValidTemperatures</a>[stringNumber] = numberValidMeasurements;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#abb8215c63a3a165c26268d74fcb47d2d">state</a>++;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="database_8h.html#af068584af384a5b877a086bc718ae8cb">DATA_WRITE_DATA</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">cellTemperature</a>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"> * @brief   stores the measured GPIOs in the database.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"> * This function loops through the data of all modules in the LTC daisy-chain that are</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"> * stored in the ltc_allgpiovoltage buffer and writes them in the database.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"> * At each write iteration, the variable named &quot;state&quot; and related to voltages in the</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"> * database is incremented.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ac215f834513e975d151fac2a8a9bbe5f">  507</a></span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#ac215f834513e975d151fac2a8a9bbe5f">LTC_SaveAllGpioMeasurement</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a1c1ae86334054d91e91cf40815a6b19b">allGpioVoltages</a>-&gt;<a class="code" href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html#a7d9337b8bd5ab55dcdede92e213159ab">state</a>++;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="database_8h.html#af068584af384a5b877a086bc718ae8cb">DATA_WRITE_DATA</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a1c1ae86334054d91e91cf40815a6b19b">allGpioVoltages</a>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"> * @brief   re-entrance check of LTC state machine trigger function</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> * This function is not re-entrant and should only be called time- or event-triggered.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> * It increments the triggerentry counter from the state variable ltc_state.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> * It should never be called by two different processes, so if it is the case, triggerentry</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"> * should never be higher than 0 when this function is called.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment"> * @return  retval  0 if no further instance of the function is active, 0xff else</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ad184ef8adbd5dadb067b1d96257531cc">  525</a></span>&#160;uint8_t <a class="code" href="ltc__6806_8c.html#ad184ef8adbd5dadb067b1d96257531cc">LTC_CheckReEntrance</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    uint8_t retval = 0;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="os__freertos_8c.html#ab8517d65da4e4805a64eda3fbec933de">OS_EnterTaskCritical</a>();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (!ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a331332adfbd0bcc3371a2dab193ce88b">triggerentry</a>) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a331332adfbd0bcc3371a2dab193ce88b">triggerentry</a>++;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        retval = 0xFF; <span class="comment">/* multiple calls of function */</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="os__freertos_8c.html#a83489428a970d8f77f122f41f4b6bc0a">OS_ExitTaskCritical</a>();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> * @brief   gets the current state request.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> * This function is used in the functioning of the LTC state machine.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * @return  retval  current state request, taken from LTC_STATE_REQUEST_e</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#aa78a82e337a65d1cf509adf6810f08cf">  548</a></span>&#160;<span class="keyword">extern</span> <a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> <a class="code" href="ltc__6806_8c.html#aa78a82e337a65d1cf509adf6810f08cf">LTC_GetStateRequest</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> retval = {.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> = <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a>, .string = 0x0u};</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="os__freertos_8c.html#ab8517d65da4e4805a64eda3fbec933de">OS_EnterTaskCritical</a>();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    retval.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    retval.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>  = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="os__freertos_8c.html#a83489428a970d8f77f122f41f4b6bc0a">OS_ExitTaskCritical</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> * @brief   gets the current state.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> * This function is used in the functioning of the LTC state machine.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> * @return  current state, taken from LTC_STATEMACH_e</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a2d2821a70f004c3698fae7850a9492b8">  568</a></span>&#160;<span class="keyword">extern</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a> <a class="code" href="ltc__6806_8c.html#a2d2821a70f004c3698fae7850a9492b8">LTC_GetState</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a9818917df5fe61ad9aac40a6e4b9e11a">state</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;}</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> * @brief   transfers the current state request to the state machine.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"> * This function takes the current state request from ltc_state and transfers it to the state machine.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"> * It resets the value from ltc_state to LTC_STATE_NO_REQUEST</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"> * @param   ltc_state       state of the ltc state machine</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"> * @param   pBusIDptr       bus ID, main or backup (deprecated)</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * @param   pAdcModeptr     LTC ADCmeasurement mode (fast, normal or filtered)</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * @param   pAdcMeasChptr   number of channels measured for GPIOS (one at a time for multiplexers or all five GPIOs)</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> * @return  retVal          current state request, taken from LTC_STATE_REQUEST_e</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a6bc859327ed6f6ac29c02103d71f8b93">  586</a></span>&#160;<a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> <a class="code" href="ltc__6806_8c.html#a6bc859327ed6f6ac29c02103d71f8b93">LTC_TransferStateRequest</a>(</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    uint8_t *pBusIDptr,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2">LTC_ADCMODE_e</a> *pAdcModeptr,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455">LTC_ADCMEAS_CHAN_e</a> *pAdcMeasChptr) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> retval = {.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> = <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a>, .string = 0x0u};</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="os__freertos_8c.html#ab8517d65da4e4805a64eda3fbec933de">OS_EnterTaskCritical</a>();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    retval.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a>              = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    retval.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>               = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>  = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    *pAdcModeptr                = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a1d4632c1ccdc8aa0bcf051889a1bdf27">adcModereq</a>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    *pAdcMeasChptr              = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af272b0e870d0602fe6b646facce95ecf">adcMeasChreq</a>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> = <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>  = 0x0u;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="os__freertos_8c.html#a83489428a970d8f77f122f41f4b6bc0a">OS_ExitTaskCritical</a>();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a4bb4d1d651bd80b2151b62d35e3a2699">  606</a></span>&#160;<a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7">LTC_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a4bb4d1d651bd80b2151b62d35e3a2699">LTC_SetStateRequest</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state, <a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> statereq) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7">LTC_RETURN_TYPE_e</a> retVal = <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7aab1827d38e093b85803b39e01b86488a">LTC_ERROR</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="os__freertos_8c.html#ab8517d65da4e4805a64eda3fbec933de">OS_EnterTaskCritical</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    retVal = <a class="code" href="ltc__6806_8c.html#a42d4f8653843aeee6f118782dfff2c20">LTC_CheckStateRequest</a>(ltc_state, statereq);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">if</span> ((retVal == <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ad9ae3d530d332f137bab96ef193eb268">LTC_OK</a>) || (retVal == <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7a0c8ec0eed8ce22ff4fe211fec479bead">LTC_BUSY_OK</a>) || (retVal == <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ac0a8a30639bbf81fdb9ea28b0c260fda">LTC_OK_FROM_ERROR</a>)) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> = statereq.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>  = statereq.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="os__freertos_8c.html#a83489428a970d8f77f122f41f4b6bc0a">OS_ExitTaskCritical</a>();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">return</span> (retVal);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#acf30d82064c640d2c4f36cd270c0647b">  621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#acf30d82064c640d2c4f36cd270c0647b">LTC_Trigger</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> retVal           = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> statereq             = {.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> = <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a>, .string = 0x0u};</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    uint8_t tmpbusID                   = 0;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2">LTC_ADCMODE_e</a> tmpadcMode           = <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2a07f4ce2ab60d13131fe74d6f9d6003da">LTC_ADCMODE_UNDEFINED</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455">LTC_ADCMEAS_CHAN_e</a> tmpadcMeasCh    = <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455a3b6a6403ef212829cd2f8b62f169c27a">LTC_ADCMEAS_UNDEFINED</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> continueFunction = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="fassert_8h.html#a2852c8164c3a4a492aa798e59180996d">FAS_ASSERT</a>(ltc_state != <a class="code" href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">/* Check re-entrance of function */</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ltc__6806_8c.html#ad184ef8adbd5dadb067b1d96257531cc">LTC_CheckReEntrance</a>(ltc_state) &gt; 0u) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        continueFunction = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> == <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a8f4edcd404244101bb5e534ea3fc76bc">timer</a> &gt; 0u) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">if</span> ((--ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a8f4edcd404244101bb5e534ea3fc76bc">timer</a>) &gt; 0u) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a331332adfbd0bcc3371a2dab193ce88b">triggerentry</a>--;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                continueFunction = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>; <span class="comment">/* handle state machine only if timer has elapsed */</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ltc__afe__dma_8c.html#a41589e9bbef5ab1714ce39c3202c038f">AFE_IsTransmitOngoing</a>(ltc_state) == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a8f4edcd404244101bb5e534ea3fc76bc">timer</a> &gt; 0u) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">if</span> ((--ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a8f4edcd404244101bb5e534ea3fc76bc">timer</a>) &gt; 0u) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a331332adfbd0bcc3371a2dab193ce88b">triggerentry</a>--;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                    continueFunction = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>; <span class="comment">/* handle state machine only if timer has elapsed */</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">if</span> (continueFunction == <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordflow">switch</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a9818917df5fe61ad9aac40a6e4b9e11a">state</a>) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">            /****************************UNINITIALIZED***********************************/</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a07fdad695f6f58fa8be1d79bb85e070e">LTC_STATEMACH_UNINITIALIZED</a>:</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="comment">/* waiting for Initialization Request */</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                statereq = <a class="code" href="ltc__6806_8c.html#a6bc859327ed6f6ac29c02103d71f8b93">LTC_TransferStateRequest</a>(ltc_state, &amp;tmpbusID, &amp;tmpadcMode, &amp;tmpadcMeasCh);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">if</span> (statereq.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> == <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8fa32d31ccbfce34084aee81b9d82d8c647">LTC_STATE_INIT_REQUEST</a>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ad8da54dbf5d4f08339a5503091d94b7c">LTC_InitializeDatabase</a>(ltc_state);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ab465bc3da734177a75cf5d92218f3cd4">LTC_ResetErrorTable</a>(ltc_state);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                        ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>, <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34baf7d1ac6dc92933f6c1a6964c4eaccbd8">LTC_INIT_STRING</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>   = tmpadcMode;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a84c6501bbd0da00e3cc7a9f0a002505c">adcMeasCh</a> = tmpadcMeasCh;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (statereq.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> == <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a>) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    <span class="comment">/* no actual request pending */</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac9dcdebbd57b115a418f615536fa6ee8">ErrRequestCounter</a>++; <span class="comment">/* illegal request pending */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">            /****************************INITIALIZATION**********************************/</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>:</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <a class="code" href="ltc__6806_8c.html#a4d6cd672e9ee1b77017532fb3c1c8921">LTC_SetTransferTimes</a>(ltc_state);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34baf7d1ac6dc92933f6c1a6964c4eaccbd8">LTC_INIT_STRING</a>) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>           = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a6ebfa376b364c45a3aa8e85d70087b90">pSpiInterface</a>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#aa14de93780dfea58993f39ebef2b031d">spiNumberInterfaces</a> = <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a5ed1bdc06a085f49f81c09422cb031d5">spiSeqEndPtr</a>        = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a6ebfa376b364c45a3aa8e85d70087b90">pSpiInterface</a> + <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                        ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>, <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba2d2f77083a7615fe667b722321402673">LTC_ENTRY_INITIALIZATION</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba2d2f77083a7615fe667b722321402673">LTC_ENTRY_INITIALIZATION</a>) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    retVal =</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#aeaf6045e4bf350f4a1f8db6a4131d945">LTC_TRANSMIT_WAKE_UP</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>); <span class="comment">/* Send dummy byte to wake up the daisy chain */</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        retVal,</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>,</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba13d2ad30f2de0e4cc44a121a19c854a7">LTC_RE_ENTRY_INITIALIZATION</a>,</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a097cecf964ffd2541604349a3b8c30a4">LTC_STATEMACH_DAISY_CHAIN_FIRST_INITIALIZATION_TIME</a>,</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>,</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba2d2f77083a7615fe667b722321402673">LTC_ENTRY_INITIALIZATION</a>,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba13d2ad30f2de0e4cc44a121a19c854a7">LTC_RE_ENTRY_INITIALIZATION</a>) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    retVal = <a class="code" href="ltc__6806__cfg_8h.html#aeaf6045e4bf350f4a1f8db6a4131d945">LTC_TRANSMIT_WAKE_UP</a>(</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>); <span class="comment">/* Send dummy byte again to wake up the daisy chain */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                        retVal,</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba77ded2c5510c4bee73d46f08ee1ecc2d">LTC_START_INIT_INITIALIZATION</a>,</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#affa73aaac089b7419b873ecc8ec71a93">LTC_STATEMACH_DAISY_CHAIN_SECOND_INITIALIZATION_TIME</a>,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba13d2ad30f2de0e4cc44a121a19c854a7">LTC_RE_ENTRY_INITIALIZATION</a>,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba77ded2c5510c4bee73d46f08ee1ecc2d">LTC_START_INIT_INITIALIZATION</a>) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#aaf84ea01e26f5cabd668be8bc46eda9a">LTC_Init</a>(</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>); <span class="comment">/* Initialize main LTC loop */</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a7fedd36e8acb6dbdea29d63cdd54458c">lastsubstate</a> = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>,</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34baf3c64872edf26a56627cf51ebd0418a1">LTC_CHECK_INITIALIZATION</a>,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34baf3c64872edf26a56627cf51ebd0418a1">LTC_CHECK_INITIALIZATION</a>) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    <span class="comment">/* Read values written in config register, currently unused */</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a675df2a9cacd99edbd47eec6d5ab3e79">ltc_cmdRDCFG</a>,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>); <span class="comment">/* Read config register */</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34bae3486b48f4754c49faee762dd3eb593e">LTC_EXIT_INITIALIZATION</a>,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34bae3486b48f4754c49faee762dd3eb593e">LTC_EXIT_INITIALIZATION</a>) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    ++ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                    ++ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a> &gt;= ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a5ed1bdc06a085f49f81c09422cb031d5">spiSeqEndPtr</a>) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                            ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4aaf75c41bec797b8e31ce3b082af30a58">LTC_STATEMACH_INITIALIZED</a>, <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba2d2f77083a7615fe667b722321402673">LTC_ENTRY_INITIALIZATION</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                            ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a>, <a class="code" href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba2d2f77083a7615fe667b722321402673">LTC_ENTRY_INITIALIZATION</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">            /****************************INITIALIZED*************************************/</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4aaf75c41bec797b8e31ce3b082af30a58">LTC_STATEMACH_INITIALIZED</a>:</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <a class="code" href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a>(ltc_state);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4add62baf8e288fbceafe73ce06b18eeda">LTC_STATEMACH_STARTMEAS</a>, <a class="code" href="ltc__defs_8h.html#ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588">LTC_ENTRY</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">            /****************************START MEASUREMENT*******************************/</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4add62baf8e288fbceafe73ce06b18eeda">LTC_STATEMACH_STARTMEAS</a>:</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>   = <a class="code" href="ltc__6806__cfg_8h.html#a9484c2122eba974a43304b18323a2c7f">LTC_VOLTAGE_MEASUREMENT_MODE</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a84c6501bbd0da00e3cc7a9f0a002505c">adcMeasCh</a> = <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455aea996f94e3d037ef4b85f0fc7b2f51be">LTC_ADCMEAS_ALLCHANNEL_CELLS</a>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>           = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a6ebfa376b364c45a3aa8e85d70087b90">pSpiInterface</a>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#aa14de93780dfea58993f39ebef2b031d">spiNumberInterfaces</a> = <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a5ed1bdc06a085f49f81c09422cb031d5">spiSeqEndPtr</a>        = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a6ebfa376b364c45a3aa8e85d70087b90">pSpiInterface</a> + <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>       = 0u;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                retVal = <a class="code" href="ltc__6806_8c.html#a0a7c52466ebf10c28061886c671582bd">LTC_StartVoltageMeasurement</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a84c6501bbd0da00e3cc7a9f0a002505c">adcMeasCh</a>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    ltc_state,</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    retVal,</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                    <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a>,</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a5e7d10bbac9597d1b13cdb503f2d609d">commandTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a13ead652292c2bfdb3b13eed32378cb8">LTC_FUELCELL_NORMAL_ALL_CELLS_MS</a>),</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a>,</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">            /****************************START MEASUREMENT CONTINUE*******************************/</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="comment">/* Do not reset SPI interface pointer */</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a3eaab007db11da9c9cb12097f6d06f17">LTC_STATEMACH_STARTMEAS_CONTINUE</a>:</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>   = <a class="code" href="ltc__6806__cfg_8h.html#a9484c2122eba974a43304b18323a2c7f">LTC_VOLTAGE_MEASUREMENT_MODE</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a84c6501bbd0da00e3cc7a9f0a002505c">adcMeasCh</a> = <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455aea996f94e3d037ef4b85f0fc7b2f51be">LTC_ADCMEAS_ALLCHANNEL_CELLS</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                retVal = <a class="code" href="ltc__6806_8c.html#a0a7c52466ebf10c28061886c671582bd">LTC_StartVoltageMeasurement</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a84c6501bbd0da00e3cc7a9f0a002505c">adcMeasCh</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    ltc_state,</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    retVal,</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                    <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                    <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a>,</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a5e7d10bbac9597d1b13cdb503f2d609d">commandTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a13ead652292c2bfdb3b13eed32378cb8">LTC_FUELCELL_NORMAL_ALL_CELLS_MS</a>),</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a>,</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                    <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">            /****************************READ VOLTAGE************************************/</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>:</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a2bf428772686835ddaa8f9b24e899a26">ltc_cmdRDCVA_Fuelcell</a>,</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                        retVal,</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eacef9e953b7d0f0b2247802871fa331e7">LTC_READ_VOLTAGE_REGISTER_B_RDCVB_READVOLTAGE</a>,</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eacef9e953b7d0f0b2247802871fa331e7">LTC_READ_VOLTAGE_REGISTER_B_RDCVB_READVOLTAGE</a>,</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eacef9e953b7d0f0b2247802871fa331e7">LTC_READ_VOLTAGE_REGISTER_B_RDCVB_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 0u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                        <a class="code" href="ltc__6806_8c.html#abb754093f8cb682e0646505a25ddbed2">ltc_cmdRDCVB_Fuelcell</a>,</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                        retVal,</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eaf68fcf824e36a01bfa307c91865d4343">LTC_READ_VOLTAGE_REGISTER_C_RDCVC_READVOLTAGE</a>,</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eaf68fcf824e36a01bfa307c91865d4343">LTC_READ_VOLTAGE_REGISTER_C_RDCVC_READVOLTAGE</a>,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eaf68fcf824e36a01bfa307c91865d4343">LTC_READ_VOLTAGE_REGISTER_C_RDCVC_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 1u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                        <a class="code" href="ltc__6806_8c.html#af92967c2058b46aef67beecdd3218eb4">ltc_cmdRDCVC_Fuelcell</a>,</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                        retVal,</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea62eb7ee2b9458e88865f161b1c447e62">LTC_READ_VOLTAGE_REGISTER_D_RDCVD_READVOLTAGE</a>,</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea62eb7ee2b9458e88865f161b1c447e62">LTC_READ_VOLTAGE_REGISTER_D_RDCVD_READVOLTAGE</a>,</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea62eb7ee2b9458e88865f161b1c447e62">LTC_READ_VOLTAGE_REGISTER_D_RDCVD_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 2u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a4d5112885fe7035b2960de338ff1d071">ltc_cmdRDCVD_Fuelcell</a>,</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                        retVal,</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead9bc5bc6e823766241b97e8dd8c88600">LTC_READ_VOLTAGE_REGISTER_E_RDCVE_READVOLTAGE</a>,</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead9bc5bc6e823766241b97e8dd8c88600">LTC_READ_VOLTAGE_REGISTER_E_RDCVE_READVOLTAGE</a>,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead9bc5bc6e823766241b97e8dd8c88600">LTC_READ_VOLTAGE_REGISTER_E_RDCVE_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 3u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a63e8c47308def4ac2096e5f574b71f23">ltc_cmdRDCVE_Fuelcell</a>,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                        retVal,</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea0255f863ca7f02fb3a868aaa7ebccfed">LTC_READ_VOLTAGE_REGISTER_F_RDCVF_READVOLTAGE</a>,</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea0255f863ca7f02fb3a868aaa7ebccfed">LTC_READ_VOLTAGE_REGISTER_F_RDCVF_READVOLTAGE</a>,</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea0255f863ca7f02fb3a868aaa7ebccfed">LTC_READ_VOLTAGE_REGISTER_F_RDCVF_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 4u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                        <a class="code" href="ltc__6806_8c.html#ab74c4effdd5ff50af1d487682a6874db">ltc_cmdRDCVF_Fuelcell</a>,</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                        retVal,</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea701473fdf9a482e5af814b5dd584b1a6">LTC_READ_VOLTAGE_REGISTER_G_RDCVG_READVOLTAGE</a>,</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea701473fdf9a482e5af814b5dd584b1a6">LTC_READ_VOLTAGE_REGISTER_G_RDCVG_READVOLTAGE</a>,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea701473fdf9a482e5af814b5dd584b1a6">LTC_READ_VOLTAGE_REGISTER_G_RDCVG_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 5u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a50b400c86e94539ae6e6c6abd8b41391">ltc_cmdRDCVG_Fuelcell</a>,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                        retVal,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead57d0579963bc3896b652ef0c7ffa157">LTC_READ_VOLTAGE_REGISTER_H_RDCVH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead57d0579963bc3896b652ef0c7ffa157">LTC_READ_VOLTAGE_REGISTER_H_RDCVH_READVOLTAGE</a>,</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead57d0579963bc3896b652ef0c7ffa157">LTC_READ_VOLTAGE_REGISTER_H_RDCVH_READVOLTAGE</a>) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 6u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a57c5f3a5e0d4780c01e104e5fb389870">ltc_cmdRDCVH_Fuelcell</a>,</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                        retVal,</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea99f19a19204723ddf3c82f2508ee30f0">LTC_READ_VOLTAGE_REGISTER_I_RDCVI_READVOLTAGE</a>,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea99f19a19204723ddf3c82f2508ee30f0">LTC_READ_VOLTAGE_REGISTER_I_RDCVI_READVOLTAGE</a>,</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea99f19a19204723ddf3c82f2508ee30f0">LTC_READ_VOLTAGE_REGISTER_I_RDCVI_READVOLTAGE</a>) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 7u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                    <a class="code" href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a>(ltc_state);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a03bc847817ee42435fdba47e7ff1f4fd">ltc_cmdRDCVI_Fuelcell</a>,</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>,</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">txBuffer</a>,</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>,</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">frameLength</a>);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                    <a class="code" href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a>(</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                        retVal,</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                        <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>,</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead399b11c7c8033d9da2e0aa1392e4fb6">LTC_EXIT_READVOLTAGE</a>,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a>),</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                        <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead399b11c7c8033d9da2e0aa1392e4fb6">LTC_EXIT_READVOLTAGE</a>,</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead399b11c7c8033d9da2e0aa1392e4fb6">LTC_EXIT_READVOLTAGE</a>) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                    <a class="code" href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a>(retVal, <a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                    <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                        ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">rxBuffer</a>, 8u, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    <span class="comment">/* Switch to different state if read voltage state is reused</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">                * e.g. open-wire check...                                */</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                    <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">reusageMeasurementMode</a> == <a class="code" href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0eaa428637421b7bd72c77de3749f1a6456">LTC_NOT_REUSED</a>) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                        <a class="code" href="ltc__6806_8c.html#aa9babbfd0bbeef2b3107e8b28fb80b99">LTC_SaveVoltages</a>(ltc_state, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                        ++ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                        ++ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                        <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a> &gt;= ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a5ed1bdc06a085f49f81c09422cb031d5">spiSeqEndPtr</a>) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="ltc__6806_8c.html#a31a0f262a3434597949aa3251b633a79">LTC_IsFirstMeasurementCycleFinished</a>(ltc_state) == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                <a class="code" href="ltc__6806_8c.html#a428e368fcc014375016c63a714201070">LTC_SetFirstMeasurementCycleFinished</a>(ltc_state);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                            }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                            statereq = <a class="code" href="ltc__6806_8c.html#a6bc859327ed6f6ac29c02103d71f8b93">LTC_TransferStateRequest</a>(ltc_state, &amp;tmpbusID, &amp;tmpadcMode, &amp;tmpadcMeasCh);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                            <span class="keywordflow">if</span> (statereq.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> == <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8fab5e65b44747c95eb2ceae71a3b633942">LTC_STATE_OPENWIRE_CHECK_REQUEST</a>) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                                <span class="keywordflow">if</span> (statereq.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a> &lt; <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>       = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a6ebfa376b364c45a3aa8e85d70087b90">pSpiInterface</a> + statereq.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a> = statereq.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                                    <span class="comment">/* This is necessary because the state machine will go through read voltage measurement registers */</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">currentString</a>        = statereq.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a91dda307d6ba4eec702047028793898f">resendCommandCounter</a> = <a class="code" href="ltc__6806__cfg_8h.html#aece792ed826e80c5a508bfefdca5b818">LTC_NMBR_REQ_ADOW_COMMANDS</a>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                                        ltc_state,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                                        <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850abd3df139e3ef1d32ab505951b2388c9d">LTC_REQUEST_PULLUP_CURRENT_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                                <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                                    ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4add62baf8e288fbceafe73ce06b18eeda">LTC_STATEMACH_STARTMEAS</a>, <a class="code" href="ltc__defs_8h.html#ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588">LTC_ENTRY</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                            }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                            <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                                ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a3eaab007db11da9c9cb12097f6d06f17">LTC_STATEMACH_STARTMEAS_CONTINUE</a>, <a class="code" href="ltc__defs_8h.html#ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588">LTC_ENTRY</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                        }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">reusageMeasurementMode</a> == <a class="code" href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0ea1654a6c9e2c0045c83543696d4f89308">LTC_REUSE_READVOLT_FOR_ADOW_PUP</a>) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                            ltc_state,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850ab30daf62dcdb3ca47506b909f5433eb7">LTC_READ_VOLTAGES_PULLUP_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                            <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">reusageMeasurementMode</a> == <a class="code" href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0ea571f4293b46860c972121d270f4df343">LTC_REUSE_READVOLT_FOR_ADOW_PDOWN</a>) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                            ltc_state,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850a7fd62dc94ef602a125a1588dc1a8f353">LTC_READ_VOLTAGES_PULLDOWN_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                            <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                    }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">            /**************************OPEN-WIRE CHECK*******************************/</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>:</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850abd3df139e3ef1d32ab505951b2388c9d">LTC_REQUEST_PULLUP_CURRENT_OPENWIRE_CHECK</a>) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    <span class="comment">/* Run ADOW command with PUP = 1 */</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>        = <a class="code" href="ltc__6806__cfg_8h.html#af490641dd2f6c7a7ff1ee144528d6070">LTC_OW_MEASUREMENT_MODE</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2784ea1ea6b725911b4da1aa5bd7f0c0">LTC_StartOpenWireMeasurement</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>, 1);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    <span class="keywordflow">if</span> (retVal == <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                        <a class="code" href="diag_8c.html#a9ccc8d9e39ec632833371523168c4927">DIAG_Handler</a>(<a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>, <a class="code" href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868af6dc8eb4f6ae8e000e83ec9486007807">DIAG_EVENT_OK</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                            ltc_state,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850abd3df139e3ef1d32ab505951b2388c9d">LTC_REQUEST_PULLUP_CURRENT_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                            (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#aaf256ac5b7c3da5b826425ae9240afb4">LTC_FUEL_CELL_ADOW_TIME_MS</a>));</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a91dda307d6ba4eec702047028793898f">resendCommandCounter</a>--;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                        <span class="comment">/* Check how many retries are left */</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                        <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a91dda307d6ba4eec702047028793898f">resendCommandCounter</a> == 0) {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                            <span class="comment">/* Switch to read voltage state to read cell voltages */</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                            <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                                ltc_state,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                                <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a>,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#aaf256ac5b7c3da5b826425ae9240afb4">LTC_FUEL_CELL_ADOW_TIME_MS</a>));</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                            <span class="comment">/* Reuse read voltage register */</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">reusageMeasurementMode</a> = <a class="code" href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0ea1654a6c9e2c0045c83543696d4f89308">LTC_REUSE_READVOLT_FOR_ADOW_PUP</a>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                        }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                        <a class="code" href="diag_8c.html#a9ccc8d9e39ec632833371523168c4927">DIAG_Handler</a>(<a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>, <a class="code" href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868acc5c525710883039317d306f8148f530">DIAG_EVENT_NOT_OK</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                            ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a3eaab007db11da9c9cb12097f6d06f17">LTC_STATEMACH_STARTMEAS_CONTINUE</a>, <a class="code" href="ltc__defs_8h.html#ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588">LTC_ENTRY</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850ab30daf62dcdb3ca47506b909f5433eb7">LTC_READ_VOLTAGES_PULLUP_OPENWIRE_CHECK</a>) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                    <span class="comment">/* Previous state: Read voltage -&gt; information stored in voltage buffer */</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">reusageMeasurementMode</a> = <a class="code" href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0eaa428637421b7bd72c77de3749f1a6456">LTC_NOT_REUSED</a>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                    <span class="comment">/* Copy data from voltage struct into open-wire struct */</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                    <span class="keywordflow">for</span> (uint16_t i = 0u; i &lt; <a class="code" href="battery__system__cfg_8h.html#a9a1e02bc5e365ab27e5bcf5f2c4754b7">BS_NR_OF_CELL_BLOCKS_PER_STRING</a>; i++) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a9a39900629014eaa06b50ad3abb32600">openWirePup</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][i] =</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#af854ad1251714dd6c94701e5de88ecaa">cellVoltage_mV</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][i];</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                    <span class="comment">/* Set number of ADOW retries - send ADOW command with pull-down two times */</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a91dda307d6ba4eec702047028793898f">resendCommandCounter</a> = <a class="code" href="ltc__6806__cfg_8h.html#aece792ed826e80c5a508bfefdca5b818">LTC_NMBR_REQ_ADOW_COMMANDS</a>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                        ltc_state,</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                        <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850a56c8715ea2f4970316113ae035d500bf">LTC_REQUEST_PULLDOWN_CURRENT_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                        <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850a56c8715ea2f4970316113ae035d500bf">LTC_REQUEST_PULLDOWN_CURRENT_OPENWIRE_CHECK</a>) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                    <span class="comment">/* Run ADOW command with PUP = 0 */</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>        = <a class="code" href="ltc__6806__cfg_8h.html#af490641dd2f6c7a7ff1ee144528d6070">LTC_OW_MEASUREMENT_MODE</a>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">check_spi_flag</a> = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                    retVal = <a class="code" href="ltc__6806_8c.html#a2784ea1ea6b725911b4da1aa5bd7f0c0">LTC_StartOpenWireMeasurement</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">spiSeqPtr</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">adcMode</a>, 0);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                    <span class="keywordflow">if</span> (retVal == <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>) {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                        <a class="code" href="diag_8c.html#a9ccc8d9e39ec632833371523168c4927">DIAG_Handler</a>(<a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>, <a class="code" href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868af6dc8eb4f6ae8e000e83ec9486007807">DIAG_EVENT_OK</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                            ltc_state,</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                            <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850a56c8715ea2f4970316113ae035d500bf">LTC_REQUEST_PULLDOWN_CURRENT_OPENWIRE_CHECK</a>,</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                            (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#aaf256ac5b7c3da5b826425ae9240afb4">LTC_FUEL_CELL_ADOW_TIME_MS</a>));</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a91dda307d6ba4eec702047028793898f">resendCommandCounter</a>--;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                        <span class="comment">/* Check how many retries are left */</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                        <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a91dda307d6ba4eec702047028793898f">resendCommandCounter</a> == 0) {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                            <span class="comment">/* Switch to read voltage state to read cell voltages */</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                            <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                                ltc_state,</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                                <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a>,</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                                <a class="code" href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a>,</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                                (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> + <a class="code" href="ltc__6806__cfg_8h.html#aaf256ac5b7c3da5b826425ae9240afb4">LTC_FUEL_CELL_ADOW_TIME_MS</a>));</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                            <span class="comment">/* Reuse read voltage register */</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">reusageMeasurementMode</a> = <a class="code" href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0ea571f4293b46860c972121d270f4df343">LTC_REUSE_READVOLT_FOR_ADOW_PDOWN</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                        }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                        <a class="code" href="diag_8c.html#a9ccc8d9e39ec632833371523168c4927">DIAG_Handler</a>(<a class="code" href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a>, <a class="code" href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868acc5c525710883039317d306f8148f530">DIAG_EVENT_NOT_OK</a>, <a class="code" href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a>, ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                        <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                            ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a3eaab007db11da9c9cb12097f6d06f17">LTC_STATEMACH_STARTMEAS_CONTINUE</a>, <a class="code" href="ltc__defs_8h.html#ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588">LTC_ENTRY</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850a7fd62dc94ef602a125a1588dc1a8f353">LTC_READ_VOLTAGES_PULLDOWN_OPENWIRE_CHECK</a>) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                    <span class="comment">/* Previous state: Read voltage -&gt; information stored in voltage buffer */</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">reusageMeasurementMode</a> = <a class="code" href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0eaa428637421b7bd72c77de3749f1a6456">LTC_NOT_REUSED</a>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                    <span class="comment">/* Copy data from voltage struct into open-wire struct */</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                    <span class="keywordflow">for</span> (uint16_t i = 0u; i &lt; <a class="code" href="battery__system__cfg_8h.html#a9a1e02bc5e365ab27e5bcf5f2c4754b7">BS_NR_OF_CELL_BLOCKS_PER_STRING</a>; i++) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a69bde0ea0b4e2538e2c5cb4dcbe73f7b">openWirePdown</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][i] =</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#af854ad1251714dd6c94701e5de88ecaa">cellVoltage_mV</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][i];</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                    }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                        ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a>, <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850adc90e3c9621062fedcb54e34896479dc">LTC_PERFORM_OPENWIRE_CHECK</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">substate</a> == <a class="code" href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850adc90e3c9621062fedcb54e34896479dc">LTC_PERFORM_OPENWIRE_CHECK</a>) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                    <span class="comment">/* Perform actual open-wire check */</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    <span class="comment">/* Take difference between pull-up and pull-down measurement */</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                    <span class="keywordflow">for</span> (uint16_t i = 1u; i &lt; <a class="code" href="battery__system__cfg_8h.html#a9a1e02bc5e365ab27e5bcf5f2c4754b7">BS_NR_OF_CELL_BLOCKS_PER_STRING</a>; i++) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a4a7443704177c66ce1550d8336527b1b">openWireDelta</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][i] = (int32_t)(</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a9a39900629014eaa06b50ad3abb32600">openWirePup</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][i] -</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a>-&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a69bde0ea0b4e2538e2c5cb4dcbe73f7b">openWirePdown</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][i]);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                    <span class="comment">/* PDOWN or PUP positive or negative full scale value: C(N) or C(N-1) open*/</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    <span class="keywordflow">for</span> (uint8_t m = 0u; m &lt; <a class="code" href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a>; m++) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                        <span class="comment">/* PUP */</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                        <span class="keywordflow">for</span> (uint8_t p = 0u; p &lt; <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>; p++) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                            <span class="keywordflow">if</span> ((ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                                     -&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a9a39900629014eaa06b50ad3abb32600">openWirePup</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                                  [p + (m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>)] ==</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                                 <a class="code" href="ltc__6806_8c.html#ad2a7e215508682519eaea9e14699e1eb">LTC_FUELCELL_POSITIVE_FULLSCALE_RANGE_mV</a>) ||</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                                (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                                     -&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a9a39900629014eaa06b50ad3abb32600">openWirePup</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                                                  [p + (m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>)] ==</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                                 <a class="code" href="ltc__6806_8c.html#aac8d6273caa91c6cf0853b93868ea3a2">LTC_FUELCELL_NEGATIVE_FULLSCALE_RANGE_mV</a>)) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                                                                     [p + (m * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>))] = 1;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                    -&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                              [(p + 1u) + (m * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>))] = 1;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                            }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                            <span class="keywordflow">if</span> ((ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                                     -&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a69bde0ea0b4e2538e2c5cb4dcbe73f7b">openWirePdown</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                                                    [p + (m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>)] ==</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                                 <a class="code" href="ltc__6806_8c.html#ad2a7e215508682519eaea9e14699e1eb">LTC_FUELCELL_POSITIVE_FULLSCALE_RANGE_mV</a>) ||</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                                (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                     -&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a69bde0ea0b4e2538e2c5cb4dcbe73f7b">openWirePdown</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                                    [p + (m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>)] ==</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                 <a class="code" href="ltc__6806_8c.html#aac8d6273caa91c6cf0853b93868ea3a2">LTC_FUELCELL_NEGATIVE_FULLSCALE_RANGE_mV</a>)) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                                                     [p + (m * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>))] = 1;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                    -&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                              [(p + 1u) + (m * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>))] = 1;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                            }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                        }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                    }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                    <span class="comment">/* data sheet page 28: &quot;for all values of n from 1 to 36: If CELL Delta(n+1) &lt; -200mV then C(n) is open&quot; */</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                    <span class="keywordflow">for</span> (uint8_t m = 0u; m &lt; <a class="code" href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a>; m++) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                        <span class="comment">/* ltc_state-&gt;ltcData.openWireDelta parsed from 1 to (BS_NR_OF_CELL_BLOCKS_PER_MODULE-1) */</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                        <span class="keywordflow">for</span> (uint8_t c = 1u; c &lt; <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>; c++) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                            <span class="comment">/* If delta cell(n+1) &lt; -200mV: open-wire at C(n) */</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                            <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">openWireDetection</a></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                                    -&gt;<a class="code" href="structLTC__OPENWIRE__DETECTION__s.html#a4a7443704177c66ce1550d8336527b1b">openWireDelta</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                                                   [c + (m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>)] &lt; <a class="code" href="ltc__6806__cfg_8h.html#a99b62022d3438ab0eece21fb3c8528d2">LTC_ADOW_THRESHOLD</a>) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                                                                     [c + (m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>)] = 1;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                            }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                        }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                    }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#a322c6566fc769073ad3a7227fdb92f1d">nrOpenWires</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>] = 0;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                    <span class="keywordflow">for</span> (uint16_t c = 0u; c &lt; (<a class="code" href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a> * (<a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a> + 1));</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                         c++) {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                        <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">openWire</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>][c] == 1) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>-&gt;<a class="code" href="structDATA__BLOCK__OPEN__WIRE__s.html#a322c6566fc769073ad3a7227fdb92f1d">nrOpenWires</a>[ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">requestedString</a>]++;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                        }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                    }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                    <span class="comment">/* Write database entry */</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                    <a class="code" href="database_8h.html#af068584af384a5b877a086bc718ae8cb">DATA_WRITE_DATA</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">openWire</a>);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                    <span class="comment">/* Start new measurement cycle */</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                    <a class="code" href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a>(ltc_state, <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4add62baf8e288fbceafe73ce06b18eeda">LTC_STATEMACH_STARTMEAS</a>, <a class="code" href="ltc__defs_8h.html#ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588">LTC_ENTRY</a>, <a class="code" href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">            /****************************DEFAULT**************************/</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <span class="comment">/* invalid state */</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                <a class="code" href="fassert_8h.html#a2852c8164c3a4a492aa798e59180996d">FAS_ASSERT</a>(<a class="code" href="fassert_8h.html#a75272b106cfd6946edcd4b19f7e8f40f">FAS_TRAP</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a331332adfbd0bcc3371a2dab193ce88b">triggerentry</a>--; <span class="comment">/* reentrance counter */</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    }                              <span class="comment">/* continueFunction */</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment"> * @brief   saves the voltage values read from the LTC daisy-chain.</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment"> * After a voltage measurement was initiated to measure the voltages of the cells,</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment"> * the result is read via SPI from the daisy-chain.</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment"> * There are 6 register to read _(A,B,C,D,E,F,G,H,I) to get all cell voltages.</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment"> * Only one register can be read at a time.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment"> * This function is called to store the result from the transmission in a buffer.</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment"> * @param   ltc_state      state of the ltc state machine</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment"> * @param   pRxBuff        receive buffer</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment"> * @param   registerSet    voltage register that was read (voltage register A,B,C,D,E,F,G,H or I)</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment"> * @param  stringNumber    string addressed</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5"> 1288</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a>(</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state,</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    uint16_t *pRxBuff,</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    uint8_t registerSet,</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    uint8_t stringNumber) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    uint16_t cellOffset = 0;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    uint16_t val_ui     = 0;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    int16_t voltage     = 0;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    uint64_t bitmask    = 0;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    uint16_t buffer_LSB = 0;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    uint16_t buffer_MSB = 0;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    cellOffset = registerSet * 4u;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="comment">/* Calculate bitmask for valid flags */</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    bitmask |= 0x0Full &lt;&lt; cellOffset; <span class="comment">/* 0x0F: four voltages in each register */</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="comment">/* reinitialize index counter at begin of cycle */</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">if</span> (cellOffset == 0u) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a753840c579380cd9ca258721577010a6">usedCellIndex</a>[stringNumber]) = 0u;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="comment">/* Retrieve data without command and CRC*/</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">for</span> (uint8_t m = 0u; m &lt; <a class="code" href="ltc__cfg_8h.html#ab1d384a3fb7fc4b15f95725129e825ae">LTC_N_LTC</a>; m++) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        uint8_t incrementations = 0u;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <span class="comment">/* parse all four voltages (4 * 12bits) contained in one register */</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <span class="keywordflow">for</span> (uint8_t c = 0u; c &lt; 4u; c++) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="keywordflow">switch</span> (c) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                <span class="keywordflow">case</span> 0u:</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                    buffer_MSB = pRxBuff[4u + (m * 8u)];</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                    buffer_LSB = (pRxBuff[4u + 1u + (m * 8u)]) &gt;&gt; 4u;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                    val_ui     = (uint16_t)(buffer_LSB | (buffer_MSB &lt;&lt; 4u));</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                <span class="keywordflow">case</span> 1u:</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                    buffer_MSB = pRxBuff[4u + 1u + (m * 8u)] &amp; 0x0Fu;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                    buffer_LSB = (pRxBuff[4u + 2u + (m * 8u)]);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                    val_ui     = (uint16_t)(buffer_LSB | (buffer_MSB &lt;&lt; 8u));</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                <span class="keywordflow">case</span> 2u:</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                    buffer_MSB = pRxBuff[4u + 3u + (m * 8u)];</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                    buffer_LSB = (pRxBuff[4u + 4u + (m * 8u)]) &gt;&gt; 4u;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                    val_ui     = (uint16_t)(buffer_LSB | (buffer_MSB &lt;&lt; 4u));</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                <span class="keywordflow">case</span> 3u:</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                    buffer_MSB = pRxBuff[4u + 4u + (m * 8u)] &amp; 0x0Fu;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                    buffer_LSB = (pRxBuff[4u + 5u + (m * 8u)]);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                    val_ui     = (uint16_t)(buffer_LSB | (buffer_MSB &lt;&lt; 8u));</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="comment">/* Check signed bit if measured value is negative or not */</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keywordflow">if</span> ((val_ui &amp; (1u &lt;&lt; (12u - 1u))) == 0u) {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                voltage = (int16_t)(((val_ui &amp; 0x7FFu)) * <a class="code" href="ltc__6806_8c.html#a7848ae997d34061529791bcf92acc7c0">LTC_FUEL_CELL_LSB_RESOLUTION_mV</a>); <span class="comment">/* Unit mV */</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                voltage = (int16_t)(((((~val_ui) + 1) &amp; 0x7FF)) * (-<a class="code" href="ltc__6806_8c.html#a7848ae997d34061529791bcf92acc7c0">LTC_FUEL_CELL_LSB_RESOLUTION_mV</a>)); <span class="comment">/* Unit mV */</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a438cc776a5faca8e00eb941fa11cb007">PEC_valid</a>[stringNumber][m] == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#af854ad1251714dd6c94701e5de88ecaa">cellVoltage_mV</a>[stringNumber]</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                                                              [(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a753840c579380cd9ca258721577010a6">usedCellIndex</a>[stringNumber]) +</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                                                               (m * <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>)] = voltage;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                bitmask = ~bitmask; <span class="comment">/* negate bitmask to only validate flags of this voltage register */</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#acdb110cf3241029726e8b1b3d84b3816">invalidCellVoltage</a>[stringNumber][(m / <a class="code" href="ltc__6806__cfg_8h.html#a726a05b79bc7a2d7de3996a59cb00cf8">LTC_NUMBER_OF_LTC_PER_MODULE</a>)] &amp;=</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                    bitmask;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                <span class="comment">/* PEC_valid == false: Invalidate only flags of this voltage register */</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">cellVoltage</a>-&gt;<a class="code" href="structDATA__BLOCK__CELL__VOLTAGE__s.html#acdb110cf3241029726e8b1b3d84b3816">invalidCellVoltage</a>[stringNumber][(m / <a class="code" href="ltc__6806__cfg_8h.html#a726a05b79bc7a2d7de3996a59cb00cf8">LTC_NUMBER_OF_LTC_PER_MODULE</a>)] |=</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                    bitmask;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a753840c579380cd9ca258721577010a6">usedCellIndex</a>[stringNumber])++;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            incrementations++;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            <span class="keywordflow">if</span> ((ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a753840c579380cd9ca258721577010a6">usedCellIndex</a>[stringNumber]) &gt; <a class="code" href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a>) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="comment">/* Restore start value for next module in the daisy-chain. Only</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">         * decrement used cell index if current module is not the last</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">         * module in the daisy-chain. */</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">if</span> ((m + 1u) &lt; <a class="code" href="ltc__cfg_8h.html#ab1d384a3fb7fc4b15f95725129e825ae">LTC_N_LTC</a>) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a753840c579380cd9ca258721577010a6">usedCellIndex</a>[stringNumber]) -= incrementations;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment"> * @brief   initialize the daisy-chain.</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment"> * To initialize the LTC6804 daisy-chain, a dummy byte (0x00) is sent.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment"> * @param   pSpiInterface        pointer to SPI configuration</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment"> * @param   pTxBuff              transmit buffer</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment"> * @param   pRxBuff              receive buffer</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment"> * @param   frameLength          number of words to transmit</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment"> * @return  retVal  #STD_OK if dummy byte was sent correctly by SPI, #STD_NOT_OK otherwise</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#aaf84ea01e26f5cabd668be8bc46eda9a"> 1391</a></span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#aaf84ea01e26f5cabd668be8bc46eda9a">LTC_Init</a>(</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    uint16_t *pTxBuff,</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    uint16_t *pRxBuff,</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    uint32_t frameLength) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> retVal = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    uint8_t PEC_Check[<a class="code" href="ltc__defs_8h.html#a511aca976e206b546489ccd9618babd1">LTC_DATA_SIZE_IN_BYTES</a>];</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    uint16_t PEC_result = 0;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="comment">/* now construct the message to be sent: it contains the wanted data, PLUS the needed PECs */</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    pTxBuff[0] = <a class="code" href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">ltc_cmdWRCFG</a>[0];</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    pTxBuff[1] = <a class="code" href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">ltc_cmdWRCFG</a>[1];</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    pTxBuff[2] = <a class="code" href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">ltc_cmdWRCFG</a>[2];</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    pTxBuff[3] = <a class="code" href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">ltc_cmdWRCFG</a>[3];</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="comment">/* set REFON bit to 1 */</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="comment">/* data for the configuration */</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0u; i &lt; <a class="code" href="ltc__cfg_8h.html#ab1d384a3fb7fc4b15f95725129e825ae">LTC_N_LTC</a>; i++) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="comment">/* 3F = disable all pull-downs, 40: REFON = 1 */</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        pTxBuff[4u + (i * 8u)] = 0x3F;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        pTxBuff[5u + (i * 8u)] = (<a class="code" href="ltc__6806__cfg_8h.html#a7285bbaf8ae0c1ea55dbbb3a28349b02">LTC_HIRNG</a> &lt;&lt; 7u) | 0x40u;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        pTxBuff[6u + (i * 8u)] = 0x00;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        pTxBuff[7u + (i * 8u)] = 0x00;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        pTxBuff[8u + (i * 8u)] = 0x00;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        pTxBuff[9u + (i * 8u)] = 0x00;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        PEC_Check[0] = pTxBuff[4u + (i * 8u)];</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        PEC_Check[1] = pTxBuff[5u + (i * 8u)];</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        PEC_Check[2] = pTxBuff[6u + (i * 8u)];</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        PEC_Check[3] = pTxBuff[7u + (i * 8u)];</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        PEC_Check[4] = pTxBuff[8u + (i * 8u)];</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        PEC_Check[5] = pTxBuff[9u + (i * 8u)];</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        PEC_result              = LTC_CalculatePec15(<a class="code" href="ltc__defs_8h.html#a511aca976e206b546489ccd9618babd1">LTC_DATA_SIZE_IN_BYTES</a>, PEC_Check);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        pTxBuff[10u + (i * 8u)] = (PEC_result &gt;&gt; 8u) &amp; 0xFFu;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        pTxBuff[11u + (i * 8u)] = PEC_result &amp; 0xFFu;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    } <span class="comment">/* end for */</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    retVal = <a class="code" href="ltc__6806__cfg_8h.html#afcb93f6520084e6ec2cddbb3571aba3f">LTC_TRANSMIT_RECEIVE_DATA</a>(pSpiInterface, pTxBuff, pRxBuff, frameLength);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">return</span> retVal;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;}</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment"> * @brief   resets the error table.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="comment"> * This function should be called during initialization or before starting a new measurement cycle</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ab465bc3da734177a75cf5d92218f3cd4"> 1443</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#ab465bc3da734177a75cf5d92218f3cd4">LTC_ResetErrorTable</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    uint16_t i = 0;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">for</span> (uint8_t s = 0u; s &lt; <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>; s++) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ltc__cfg_8h.html#ab1d384a3fb7fc4b15f95725129e825ae">LTC_N_LTC</a>; i++) {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a438cc776a5faca8e00eb941fa11cb007">PEC_valid</a>[s][i] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a9656976bb611fcec50080d68b8315ea9">mux0</a>[s][i]      = 0;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#aa243b24757eec45af60307d9a42c8c19">mux1</a>[s][i]      = 0;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a750b6ffe0756bca9e0a1064151935afc">mux2</a>[s][i]      = 0;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a5703cc298da1b3a55c2abbe10e9c8657">mux3</a>[s][i]      = 0;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment"> * @brief   tells the LTC daisy-chain to start measuring the voltage on all cells.</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment"> * This function sends an instruction to the daisy-chain via SPI, in order to start voltage measurement for all cells.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment"> * @param   pSpiInterface        pointer to SPI configuration</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment"> * @param   adcMode              LTC ADCmeasurement mode (fast, normal or filtered)</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment"> * @param   adcMeasCh            number of cell voltage measured (2 cells or all cells)</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment"> * @return  retVal      #STD_OK if dummy byte was sent correctly by SPI, #STD_NOT_OK otherwise</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a0a7c52466ebf10c28061886c671582bd"> 1469</a></span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a0a7c52466ebf10c28061886c671582bd">LTC_StartVoltageMeasurement</a>(</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2">LTC_ADCMODE_e</a> adcMode,</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <a class="code" href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455">LTC_ADCMEAS_CHAN_e</a> adcMeasCh) {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> retVal = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    retVal = <a class="code" href="ltc__6806__cfg_8h.html#a51b13b433bc24064fee7e9d315e79d7a">LTC_TRANSMIT_COMMAND</a>(pSpiInterface, <a class="code" href="ltc__6806_8c.html#afbba8f00e53a99341efca57039017a43">ltc_cmdADCV_normal_Fuelcell</a>);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">return</span> retVal;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;}</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment"> * @brief   tells LTC daisy-chain to start measuring the voltage on GPIOS.</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment"> * This function sends an instruction to the daisy-chain via SPI to start the measurement.</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment"> * @param   pSpiInterface        pointer to SPI configuration</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment"> * @param   adcMode              LTC ADCmeasurement mode (fast, normal or filtered)</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment"> * @param   PUP                  pull-up bit for pull-up or pull-down current (0: pull-down, 1: pull-up)</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment"> * @return  retVal      #STD_OK if command was sent correctly by SPI, #STD_NOT_OK otherwise</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a2784ea1ea6b725911b4da1aa5bd7f0c0"> 1492</a></span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a2784ea1ea6b725911b4da1aa5bd7f0c0">LTC_StartOpenWireMeasurement</a>(</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2">LTC_ADCMODE_e</a> adcMode,</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    uint8_t PUP) {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> retval = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> (PUP == 0u) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="comment">/* pull-down current */</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        retval = <a class="code" href="ltc__6806__cfg_8h.html#a51b13b433bc24064fee7e9d315e79d7a">LTC_TRANSMIT_COMMAND</a>(pSpiInterface, <a class="code" href="ltc__6806_8c.html#ae87b4a5c56ea97b4968de9f3651c52ec">ltc_BC_cmdADOW_PDOWN_100ms_fuelcell</a>);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PUP == 1u) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        <span class="comment">/* pull-up current */</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        retval = <a class="code" href="ltc__6806__cfg_8h.html#a51b13b433bc24064fee7e9d315e79d7a">LTC_TRANSMIT_COMMAND</a>(pSpiInterface, <a class="code" href="ltc__6806_8c.html#af4b0118e62526439b3397ee02d7448ad">ltc_BC_cmdADOW_PUP_100ms_fuelcell</a>);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;}</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment"> * @brief   checks if the data received from the daisy-chain is not corrupt.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment"> * This function computes the PEC (CRC) from the data received by the daisy-chain.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="comment"> * It compares it with the PEC sent by the LTCs.</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment"> * If there are errors, the array the error table is updated to locate the LTCs in daisy-chain</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="comment"> * that transmitted corrupt data.</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="comment"> * @param   ltc_state                    state of the ltc state machine</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="comment"> * @param   DataBufferSPI_RX_with_PEC    data obtained from the SPI transmission</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="comment"> * @param  stringNumber                  string addressed</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="comment"> * @return  retVal                       STD_OK if PEC check is OK, STD_NOT_OK otherwise</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6"> 1524</a></span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a>(</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state,</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    uint16_t *DataBufferSPI_RX_with_PEC,</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    uint8_t stringNumber) {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    uint16_t i               = 0;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> retVal = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    uint8_t PEC_TX[2];</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    uint16_t PEC_result                       = 0;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    uint8_t PEC_Check[<a class="code" href="ltc__defs_8h.html#a511aca976e206b546489ccd9618babd1">LTC_DATA_SIZE_IN_BYTES</a>] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00};</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="comment">/* check all PECs and put data without command and PEC in DataBufferSPI_RX (easier to use) */</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ltc__cfg_8h.html#ab1d384a3fb7fc4b15f95725129e825ae">LTC_N_LTC</a>; i++) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        PEC_Check[0] = DataBufferSPI_RX_with_PEC[4u + (i * 8u)];</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        PEC_Check[1] = DataBufferSPI_RX_with_PEC[5u + (i * 8u)];</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        PEC_Check[2] = DataBufferSPI_RX_with_PEC[6u + (i * 8u)];</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        PEC_Check[3] = DataBufferSPI_RX_with_PEC[7u + (i * 8u)];</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        PEC_Check[4] = DataBufferSPI_RX_with_PEC[8u + (i * 8u)];</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        PEC_Check[5] = DataBufferSPI_RX_with_PEC[9u + (i * 8u)];</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        PEC_result = LTC_CalculatePec15(<a class="code" href="ltc__defs_8h.html#a511aca976e206b546489ccd9618babd1">LTC_DATA_SIZE_IN_BYTES</a>, PEC_Check);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        PEC_TX[0]  = (uint8_t)((PEC_result &gt;&gt; 8u) &amp; 0xFFu);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        PEC_TX[1]  = (uint8_t)(PEC_result &amp; 0xFFu);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="comment">/* if calculated PEC not equal to received PEC */</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">if</span> ((PEC_TX[0] != DataBufferSPI_RX_with_PEC[10u + (i * 8u)]) ||</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            (PEC_TX[1] != DataBufferSPI_RX_with_PEC[11u + (i * 8u)])) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="comment">/* update error table of the corresponding LTC only if PEC check is activated */</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ltc__6806__cfg_8h.html#a59be4c4c0d9fcae8d3bf4d41432d34e8">LTC_DISCARD_PEC</a> == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a438cc776a5faca8e00eb941fa11cb007">PEC_valid</a>[stringNumber][i] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                retVal                                                    = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a>;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a438cc776a5faca8e00eb941fa11cb007">PEC_valid</a>[stringNumber][i] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            <span class="comment">/* update error table of the corresponding LTC */</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">errorTable</a>-&gt;<a class="code" href="structLTC__ERRORTABLE__s.html#a438cc776a5faca8e00eb941fa11cb007">PEC_valid</a>[stringNumber][i] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        }</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    }</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> retVal;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;}</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment"> * @brief   send command to the LTC daisy-chain and receives data from the LTC</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment"> *          daisy-chain.</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment"> * @details This is the core function to receive data from the LTC6806</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment"> *          daisy-chain.</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment"> *          A 2 byte command is sent with the corresponding PEC.</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment"> *          *Example*: read configuration register (RDCFG).</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment"> *          Only command has to be set, the function calculates the PEC</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment"> *          automatically.</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment"> *          - The data sent is:</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment"> *            - 2 bytes (COMMAND) 2 bytes (PEC)</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="comment"> *          - The data received is:</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="comment"> *            - 6 bytes (LTC1) 2 bytes (PEC) +</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment"> *            - 6 bytes (LTC2) 2 bytes (PEC) +</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment"> *            - 6 bytes (LTC3) 2 bytes (PEC) +</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="comment"> *            - ... +</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="comment"> *            - 6 bytes (LTC{LTC_N_LTC}) 2 bytes (PEC)</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="comment"> *          The function does not check the PECs. This has to be done</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="comment"> *          elsewhere.</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="comment"> * @param   Command         command sent to the daisy-chain</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="comment"> * @param   pSpiInterface   pointer to SPI configuration</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="comment"> * @param   pTxBuff         transmit buffer</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment"> * @param   pRxBuff         receive buffer</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment"> * @param   frameLength     number of words to transmit</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment"> * @return  #STD_OK if SPI transmission is OK, #STD_NOT_OK otherwise</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70"> 1594</a></span>&#160;<span class="keyword">static</span> <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a>(</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    uint16_t *Command,</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface,</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    uint16_t *pTxBuff,</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    uint16_t *pRxBuff,</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    uint32_t frameLength) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a> statusSPI = <a class="code" href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a>;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    uint16_t i                  = 0;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="comment">/* DataBufferSPI_RX_with_PEC contains the data to receive.</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">       The transmission function checks the PECs.</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">       It constructs DataBufferSPI_RX, which contains the received data without PEC (easier to use). */</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ltc__cfg_8h.html#aa3f643ec54a39b58256f75a5e107e1d8">LTC_N_BYTES_FOR_DATA_TRANSMISSION</a>; i++) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        pTxBuff[i] = 0x00;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    pTxBuff[0] = Command[0];</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    pTxBuff[1] = Command[1];</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    pTxBuff[2] = Command[2];</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    pTxBuff[3] = Command[3];</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    statusSPI = <a class="code" href="ltc__6806__cfg_8h.html#afcb93f6520084e6ec2cddbb3571aba3f">LTC_TRANSMIT_RECEIVE_DATA</a>(pSpiInterface, pTxBuff, pRxBuff, frameLength);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">return</span> statusSPI;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;}</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment"> * @brief   gets the frequency of the SPI clock.</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment"> * This function reads the configuration from the SPI handle directly.</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="comment"> * @param   pSpiInterface        pointer to SPI configuration</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment"> * @return    frequency of the SPI clock</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a4fd9d165e4bc619474fe3d1653104833"> 1630</a></span>&#160;<span class="keyword">static</span> uint32_t <a class="code" href="ltc__6806_8c.html#a4fd9d165e4bc619474fe3d1653104833">LTC_GetSpiClock</a>(<a class="code" href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a> *pSpiInterface) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    uint32_t SPI_Clock = 0;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    uint32_t prescaler = 0;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="comment">/* if (LTC_SPI_INSTANCE == SPI2 || LTC_SPI_INSTANCE == SPI3) { */</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="comment">/* SPI2 and SPI3 are connected to APB1 (PCLK1) */</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="comment">/* The prescaler setup bits LTC_SPI_PRESCALER corresponds to the bits 5:3 in the SPI_CR1 register */</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="comment">/* Reference manual p.909 */</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="comment">/* The shift by 3 puts the bits 5:3 to the first position */</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="comment">/* Division are made by powers of 2 which corresponds to shifting to the right */</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="comment">/* Then 0 corresponds to divide by 2, 1 corresponds to divide by 4... so 1 has to be added to the value of the configuration bits */</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="comment">/* SPI_Clock = HAL_RCC_GetPCLK1Freq()&gt;&gt;((LTC_SPI_PRESCALER&gt;&gt;3)+1);</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">    } */</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="comment">/* if (LTC_SPI_INSTANCE == SPI1 || LTC_SPI_INSTANCE == SPI4 || LTC_SPI_INSTANCE == SPI5 || LTC_SPI_INSTANCE == SPI6) { */</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="comment">/* SPI1, SPI4, SPI5 and SPI6 are connected to APB2 (PCLK2) */</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="comment">/* The prescaler setup bits LTC_SPI_PRESCALER corresponds to the bits 5:3 in the SPI_CR1 register */</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="comment">/* Reference manual p.909 */</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="comment">/* The shift by 3 puts the bits 5:3 to the first position */</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="comment">/* Division are made by powers of 2 which corresponds to shifting to the right */</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="comment">/* Then 0 corresponds to divide by 2, 1 corresponds to divide by 4... so 1 has to be added to the value of the configuration bits */</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="comment">/* SPI_Clock = HAL_RCC_GetPCLK2Freq()&gt;&gt;((LTC_SPI_PRESCALER&gt;&gt;3)+1);</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">    } */</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="comment">/* Get SPI prescaler */</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    prescaler = ((pSpiInterface-&gt;<a class="code" href="structSPI__INTERFACE__CONFIG__s.html#af572fcc78c380c9e7f17251154f90906">pNode</a>-&gt;FMT0) &gt;&gt; 8u) &amp; 0xFFu;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    SPI_Clock = (uint32_t)(AVCLK1_FREQ * 1000000u) / (prescaler + 1u);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160; </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">return</span> SPI_Clock;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;}</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="comment"> * @brief   sets the transfer time needed to receive/send data with the LTC daisy-chain.</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="comment"> * This function gets the clock frequency and uses the number of LTCs in the daisy-chain.</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a4d6cd672e9ee1b77017532fb3c1c8921"> 1671</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a4d6cd672e9ee1b77017532fb3c1c8921">LTC_SetTransferTimes</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    uint32_t transferTime_us = 0;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    uint32_t SPI_Clock       = 0;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    SPI_Clock = <a class="code" href="ltc__6806_8c.html#a4fd9d165e4bc619474fe3d1653104833">LTC_GetSpiClock</a>(ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">ltcData</a>.<a class="code" href="structLTC__DATAPTR__s.html#a6ebfa376b364c45a3aa8e85d70087b90">pSpiInterface</a>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="comment">/* Transmission of a command and data */</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">/* Multiplication by 1000*1000 to get us */</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    transferTime_us = (8u * 1000u * 1000u) / (SPI_Clock);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    transferTime_us *= <a class="code" href="ltc__cfg_8h.html#aa3f643ec54a39b58256f75a5e107e1d8">LTC_N_BYTES_FOR_DATA_TRANSMISSION</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    transferTime_us                    = transferTime_us + <a class="code" href="ltc__6806__cfg_8h.html#ac823ea06e1dffea1bbdcca61e6f4e3dc">LTC_SPI_WAKEUP_WAIT_TIME_US</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">commandDataTransferTime</a> = (transferTime_us / 1000u) + 1u;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="comment">/* Transmission of a command */</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="comment">/* Multiplication by 1000*1000 to get us */</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    transferTime_us                = ((4u) * 8u * 1000u * 1000u) / (SPI_Clock);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    transferTime_us                = transferTime_us + <a class="code" href="ltc__6806__cfg_8h.html#ac823ea06e1dffea1bbdcca61e6f4e3dc">LTC_SPI_WAKEUP_WAIT_TIME_US</a>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a5e7d10bbac9597d1b13cdb503f2d609d">commandTransferTime</a> = (transferTime_us / 1000u) + 1u;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160; </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">/* Transmission of a command + 9 clocks */</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="comment">/* Multiplication by 1000*1000 to get us */</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    transferTime_us                   = ((4u + 9u) * 8u * 1000u * 1000u) / (SPI_Clock);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    transferTime_us                   = transferTime_us + <a class="code" href="ltc__6806__cfg_8h.html#ac823ea06e1dffea1bbdcca61e6f4e3dc">LTC_SPI_WAKEUP_WAIT_TIME_US</a>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a8c0708bc6bcc2bffa7d1c1271986f210">gpioClocksTransferTime</a> = (transferTime_us / 1000u) + 1u;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="comment"> * @brief   checks the state requests that are made.</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="comment"> * This function checks the validity of the state requests.</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment"> * The results of the checked is returned immediately.</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="comment"> * @param  ltc_state:  state of the ltc state machine</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="comment"> * @param  statereq    state request to be checked</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="comment"> * @return              result of the state request that was made, taken from #LTC_RETURN_TYPE_e</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a42d4f8653843aeee6f118782dfff2c20"> 1708</a></span>&#160;<span class="keyword">static</span> <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7">LTC_RETURN_TYPE_e</a> <a class="code" href="ltc__6806_8c.html#a42d4f8653843aeee6f118782dfff2c20">LTC_CheckStateRequest</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state, <a class="code" href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a> statereq) {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7">LTC_RETURN_TYPE_e</a> retVal = <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ad9ae3d530d332f137bab96ef193eb268">LTC_OK</a>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">if</span> (statereq.<a class="code" href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">string</a> &gt;= <a class="code" href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a>) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        retVal = <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7a3cbf4fe7a25d2e18acaa4b7c21cf1509">LTC_ILLEGAL_REQUEST</a>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">statereq</a>.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> == <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a>) {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="comment">/* init only allowed from the uninitialized state */</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="keywordflow">if</span> (statereq.<a class="code" href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">request</a> == <a class="code" href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8fa32d31ccbfce34084aee81b9d82d8c647">LTC_STATE_INIT_REQUEST</a>) {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <span class="keywordflow">if</span> (ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#a9818917df5fe61ad9aac40a6e4b9e11a">state</a> == <a class="code" href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a07fdad695f6f58fa8be1d79bb85e070e">LTC_STATEMACH_UNINITIALIZED</a>) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                retVal = <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ad9ae3d530d332f137bab96ef193eb268">LTC_OK</a>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                retVal = <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7a8dfe24407905e9633319c2067f63a9c8">LTC_ALREADY_INITIALIZED</a>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            retVal = <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ad9ae3d530d332f137bab96ef193eb268">LTC_OK</a>;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        }</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        retVal = <a class="code" href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ad453369e22c4032a2048324469626933">LTC_REQUEST_PENDING</a>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">return</span> retVal;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;}</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a31a0f262a3434597949aa3251b633a79"> 1729</a></span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="ltc__6806_8c.html#a31a0f262a3434597949aa3251b633a79">LTC_IsFirstMeasurementCycleFinished</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordtype">bool</span> retval = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <a class="code" href="os__freertos_8c.html#ab8517d65da4e4805a64eda3fbec933de">OS_EnterTaskCritical</a>();</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    retval = ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae6370db3fede30503de9811d3725b3a3">first_measurement_made</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <a class="code" href="os__freertos_8c.html#a83489428a970d8f77f122f41f4b6bc0a">OS_ExitTaskCritical</a>();</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;}</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment"> * @brief   sets the measurement initialization status.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a428e368fcc014375016c63a714201070"> 1742</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a428e368fcc014375016c63a714201070">LTC_SetFirstMeasurementCycleFinished</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <a class="code" href="os__freertos_8c.html#ab8517d65da4e4805a64eda3fbec933de">OS_EnterTaskCritical</a>();</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    ltc_state-&gt;<a class="code" href="structLTC__STATE__s.html#ae6370db3fede30503de9811d3725b3a3">first_measurement_made</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="os__freertos_8c.html#a83489428a970d8f77f122f41f4b6bc0a">OS_ExitTaskCritical</a>();</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a7cd8b1e13abf2fb07eadc0fd3bb4fd6f"> 1748</a></span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#a7cd8b1e13abf2fb07eadc0fd3bb4fd6f">LTC_InitializeMonitoringPin</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="comment">/* Set 3rd PE pins to enable daisy chains */</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a5e0ac65967f709d23a7b112b167427e1">PEX_PIN10</a>);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#ad658651e99057473e45a9025a9b3571d">PEX_PIN11</a>);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a9c6e3e6109c95dc082dd988d5c2786d7">PEX_PIN12</a>);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a2d28a4692bb7c682388844041da22ea8">PEX_PIN13</a>);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#aeff3962fe6d73a8d1356b35efc0ce081">PEX_PIN14</a>);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#ab4d65fbed299469b715878267383162f">PEX_PIN15</a>);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a2cc0607e44764dbfd3560f46bd1a415e">PEX_PIN16</a>);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a91891161923cdb408e111071f9187dc6">PEX_PIN17</a>);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a5e0ac65967f709d23a7b112b167427e1">PEX_PIN10</a>);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#ad658651e99057473e45a9025a9b3571d">PEX_PIN11</a>);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a9c6e3e6109c95dc082dd988d5c2786d7">PEX_PIN12</a>);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a2d28a4692bb7c682388844041da22ea8">PEX_PIN13</a>);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#aeff3962fe6d73a8d1356b35efc0ce081">PEX_PIN14</a>);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#ab4d65fbed299469b715878267383162f">PEX_PIN15</a>);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a2cc0607e44764dbfd3560f46bd1a415e">PEX_PIN16</a>);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <a class="code" href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a>(<a class="code" href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a>, <a class="code" href="pex__cfg_8h.html#a91891161923cdb408e111071f9187dc6">PEX_PIN17</a>);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;}</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160; </div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="comment">/*========== Externalized Static Function Implementations (Unit Test) =======*/</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="preprocessor">#ifdef UNITY_UNIT_TEST</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#afe5522ea8341f0294d56c4e2f656d4b2"> 1770</a></span>&#160;uint8_t <a class="code" href="ltc__6806_8c.html#afe5522ea8341f0294d56c4e2f656d4b2">TEST_LTC_CheckReEntrance</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ltc__6806_8c.html#ad184ef8adbd5dadb067b1d96257531cc">LTC_CheckReEntrance</a>(ltc_state);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#aedc383042bee40b29823c29006e1c681"> 1774</a></span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ltc__6806_8c.html#aedc383042bee40b29823c29006e1c681">TEST_LTC_SetFirstMeasurementCycleFinished</a>(<a class="code" href="structLTC__STATE__s.html">LTC_STATE_s</a> *ltc_state) {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="ltc__6806_8c.html#a428e368fcc014375016c63a714201070">LTC_SetFirstMeasurementCycleFinished</a>(ltc_state);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;}</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">/** this define is used for creating the declaration of a function for variable extraction */</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1"> 1779</a></span>&#160;<span class="preprocessor">#define TEST_LTC_DEFINE_GET(VARIABLE)                      \</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="preprocessor">    extern void TEST_LTC_Get_##VARIABLE(uint8_t data[4]) { \</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="preprocessor">        for (uint8_t i = 0u; i &lt; 4u; i++) {                \</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="preprocessor">            data[i] = (uint8_t)(VARIABLE)[i];              \</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="preprocessor">        }                                                  \</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ab4ca76fc05cfcdbeac653de2b5c57ac8"> 1786</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">ltc_cmdWRCFG</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a3d5bdafa35b31ba1ed8e06b9cc74fc2c"> 1787</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#a675df2a9cacd99edbd47eec6d5ab3e79">ltc_cmdRDCFG</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a7841c147134784e765786917cd74b317"> 1788</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#a2bf428772686835ddaa8f9b24e899a26">ltc_cmdRDCVA_Fuelcell</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a4951862908752fdd7fd80139c7f97e50"> 1789</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#abb754093f8cb682e0646505a25ddbed2">ltc_cmdRDCVB_Fuelcell</a>);</div>
<div class="line"><a name="l01790"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#ad2d50e08cac24794d24b234f8807fc3a"> 1790</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#af92967c2058b46aef67beecdd3218eb4">ltc_cmdRDCVC_Fuelcell</a>);</div>
<div class="line"><a name="l01791"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a057f3b6e81d97066ed709ec0eb2f67a0"> 1791</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#a4d5112885fe7035b2960de338ff1d071">ltc_cmdRDCVD_Fuelcell</a>);</div>
<div class="line"><a name="l01792"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a58079ec3777d2c79ebc64d714fe712e4"> 1792</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#a63e8c47308def4ac2096e5f574b71f23">ltc_cmdRDCVE_Fuelcell</a>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a3172c22f3a1987e4f7df68f65bd0a83b"> 1793</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#ab74c4effdd5ff50af1d487682a6874db">ltc_cmdRDCVF_Fuelcell</a>);</div>
<div class="line"><a name="l01794"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a4205178b89bec6fc619ac40d1a2dd2b8"> 1794</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#a50b400c86e94539ae6e6c6abd8b41391">ltc_cmdRDCVG_Fuelcell</a>);</div>
<div class="line"><a name="l01795"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a73049c41dc1bd2579f147e16f08dd4dd"> 1795</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#a57c5f3a5e0d4780c01e104e5fb389870">ltc_cmdRDCVH_Fuelcell</a>);</div>
<div class="line"><a name="l01796"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a552b359ff3d450d8b4c56d5a697fb250"> 1796</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#a03bc847817ee42435fdba47e7ff1f4fd">ltc_cmdRDCVI_Fuelcell</a>);</div>
<div class="line"><a name="l01797"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a6fd509df673895f81cd02ca80e4cd0fc"> 1797</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#afbba8f00e53a99341efca57039017a43">ltc_cmdADCV_normal_Fuelcell</a>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a2efcd30035bd34bd8a48991e55bcb0fe"> 1798</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#af4b0118e62526439b3397ee02d7448ad">ltc_BC_cmdADOW_PUP_100ms_fuelcell</a>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"><a class="line" href="ltc__6806_8c.html#a2f1b5b19f2832c5df79a881da4bbfe2b"> 1799</a></span>&#160;<a class="code" href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a>(<a class="code" href="ltc__6806_8c.html#ae87b4a5c56ea97b4968de9f3651c52ec">ltc_BC_cmdADOW_PDOWN_100ms_fuelcell</a>);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="aafe__plausibility_8c_html_a5f0f388fcad363cade4b5e340f06e211"><div class="ttname"><a href="afe__plausibility_8c.html#a5f0f388fcad363cade4b5e340f06e211">AFE_PlausibilityCheckTempMinMax</a></div><div class="ttdeci">STD_RETURN_TYPE_e AFE_PlausibilityCheckTempMinMax(const int16_t celltemperature_ddegC)</div><div class="ttdoc">Cell temperature plausibility check.</div><div class="ttdef"><b>Definition:</b> <a href="afe__plausibility_8c_source.html#l00089">afe_plausibility.c:89</a></div></div>
<div class="ttc" id="aafe__plausibility_8c_html_ae3a0cab9bf3aeded2ce65f1d28bdda8b"><div class="ttname"><a href="afe__plausibility_8c.html#ae3a0cab9bf3aeded2ce65f1d28bdda8b">AFE_PlausibilityCheckVoltageMeasurementRange</a></div><div class="ttdeci">STD_RETURN_TYPE_e AFE_PlausibilityCheckVoltageMeasurementRange(const int16_t cellVoltage_mV, const AFE_PLAUSIBILITY_VALUES_s plausibleValues)</div><div class="ttdoc">Cell voltage measurement range plausibility check.</div><div class="ttdef"><b>Definition:</b> <a href="afe__plausibility_8c_source.html#l00073">afe_plausibility.c:73</a></div></div>
<div class="ttc" id="aafe__plausibility_8h_html"><div class="ttname"><a href="afe__plausibility_8h.html">afe_plausibility.h</a></div><div class="ttdoc">plausibility checks for cell voltage and cell temperatures</div></div>
<div class="ttc" id="abattery__system__cfg_8h_html_a2b983b5c4a8dc93901fca6d9c4da06ab"><div class="ttname"><a href="battery__system__cfg_8h.html#a2b983b5c4a8dc93901fca6d9c4da06ab">BS_NR_OF_CELL_BLOCKS_PER_MODULE</a></div><div class="ttdeci">#define BS_NR_OF_CELL_BLOCKS_PER_MODULE</div><div class="ttdoc">number of cells per module</div><div class="ttdef"><b>Definition:</b> <a href="battery__system__cfg_8h_source.html#l00122">battery_system_cfg.h:122</a></div></div>
<div class="ttc" id="abattery__system__cfg_8h_html_a32f2bb332b907c9a6534b5a1678b8786"><div class="ttname"><a href="battery__system__cfg_8h.html#a32f2bb332b907c9a6534b5a1678b8786">BS_NR_OF_STRINGS</a></div><div class="ttdeci">#define BS_NR_OF_STRINGS</div><div class="ttdoc">Number of parallel strings in the battery pack.</div><div class="ttdef"><b>Definition:</b> <a href="battery__system__cfg_8h_source.html#l00099">battery_system_cfg.h:99</a></div></div>
<div class="ttc" id="abattery__system__cfg_8h_html_a6e85c9c9cb9c49f0e29841223cedb80d"><div class="ttname"><a href="battery__system__cfg_8h.html#a6e85c9c9cb9c49f0e29841223cedb80d">BS_NR_OF_TEMP_SENSORS_PER_MODULE</a></div><div class="ttdeci">#define BS_NR_OF_TEMP_SENSORS_PER_MODULE</div><div class="ttdoc">number of temperature sensors per battery module</div><div class="ttdef"><b>Definition:</b> <a href="battery__system__cfg_8h_source.html#l00152">battery_system_cfg.h:152</a></div></div>
<div class="ttc" id="abattery__system__cfg_8h_html_a956061145a966379ee73916187efc4be"><div class="ttname"><a href="battery__system__cfg_8h.html#a956061145a966379ee73916187efc4be">BS_NR_OF_GPIOS_PER_MODULE</a></div><div class="ttdeci">#define BS_NR_OF_GPIOS_PER_MODULE</div><div class="ttdoc">Defines the number of GPIOs.</div><div class="ttdef"><b>Definition:</b> <a href="battery__system__cfg_8h_source.html#l00140">battery_system_cfg.h:140</a></div></div>
<div class="ttc" id="abattery__system__cfg_8h_html_a9a1e02bc5e365ab27e5bcf5f2c4754b7"><div class="ttname"><a href="battery__system__cfg_8h.html#a9a1e02bc5e365ab27e5bcf5f2c4754b7">BS_NR_OF_CELL_BLOCKS_PER_STRING</a></div><div class="ttdeci">#define BS_NR_OF_CELL_BLOCKS_PER_STRING</div><div class="ttdef"><b>Definition:</b> <a href="battery__system__cfg_8h_source.html#l00159">battery_system_cfg.h:159</a></div></div>
<div class="ttc" id="abattery__system__cfg_8h_html_a9da4acfcff449ea9170a67e39773a7cb"><div class="ttname"><a href="battery__system__cfg_8h.html#a9da4acfcff449ea9170a67e39773a7cb">BS_NR_OF_MODULES_PER_STRING</a></div><div class="ttdeci">#define BS_NR_OF_MODULES_PER_STRING</div><div class="ttdoc">number of modules in a string</div><div class="ttdef"><b>Definition:</b> <a href="battery__system__cfg_8h_source.html#l00112">battery_system_cfg.h:112</a></div></div>
<div class="ttc" id="abattery__system__cfg_8h_html_aa7dfc0b2f2605e80af897419b02a095a"><div class="ttname"><a href="battery__system__cfg_8h.html#aa7dfc0b2f2605e80af897419b02a095a">BS_NR_OF_TEMP_SENSORS_PER_STRING</a></div><div class="ttdeci">#define BS_NR_OF_TEMP_SENSORS_PER_STRING</div><div class="ttdef"><b>Definition:</b> <a href="battery__system__cfg_8h_source.html#l00161">battery_system_cfg.h:161</a></div></div>
<div class="ttc" id="adatabase_8h_html"><div class="ttname"><a href="database_8h.html">database.h</a></div><div class="ttdoc">Database module header.</div></div>
<div class="ttc" id="adatabase_8h_html_af068584af384a5b877a086bc718ae8cb"><div class="ttname"><a href="database_8h.html#af068584af384a5b877a086bc718ae8cb">DATA_WRITE_DATA</a></div><div class="ttdeci">#define DATA_WRITE_DATA(...)</div><div class="ttdef"><b>Definition:</b> <a href="database_8h_source.html#l00096">database.h:96</a></div></div>
<div class="ttc" id="adatabase__cfg_8h_html_a116fa1c11aed837ecb813ffc98aa1b57a96aadf6134a9de94da371f37fd558e20"><div class="ttname"><a href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57a96aadf6134a9de94da371f37fd558e20">DATA_BLOCK_ID_CELL_TEMPERATURE_BASE</a></div><div class="ttdeci">@ DATA_BLOCK_ID_CELL_TEMPERATURE_BASE</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00101">database_cfg.h:101</a></div></div>
<div class="ttc" id="adatabase__cfg_8h_html_a116fa1c11aed837ecb813ffc98aa1b57ac508b7dc814982c8bd6713dcc95daf14"><div class="ttname"><a href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57ac508b7dc814982c8bd6713dcc95daf14">DATA_BLOCK_ID_OPEN_WIRE_BASE</a></div><div class="ttdeci">@ DATA_BLOCK_ID_OPEN_WIRE_BASE</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00087">database_cfg.h:87</a></div></div>
<div class="ttc" id="adatabase__cfg_8h_html_a116fa1c11aed837ecb813ffc98aa1b57ae078fe346db28b01fdafee1daedbd37b"><div class="ttname"><a href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57ae078fe346db28b01fdafee1daedbd37b">DATA_BLOCK_ID_CELL_VOLTAGE_BASE</a></div><div class="ttdeci">@ DATA_BLOCK_ID_CELL_VOLTAGE_BASE</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00100">database_cfg.h:100</a></div></div>
<div class="ttc" id="adatabase__cfg_8h_html_a116fa1c11aed837ecb813ffc98aa1b57ae67036240a0a41bb25b056ba4223bd12"><div class="ttname"><a href="database__cfg_8h.html#a116fa1c11aed837ecb813ffc98aa1b57ae67036240a0a41bb25b056ba4223bd12">DATA_BLOCK_ID_ALL_GPIO_VOLTAGES_BASE</a></div><div class="ttdeci">@ DATA_BLOCK_ID_ALL_GPIO_VOLTAGES_BASE</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00088">database_cfg.h:88</a></div></div>
<div class="ttc" id="adiag_8c_html_a3e60a00edfbecf928fd6db140626647a"><div class="ttname"><a href="diag_8c.html#a3e60a00edfbecf928fd6db140626647a">DIAG_CheckEvent</a></div><div class="ttdeci">STD_RETURN_TYPE_e DIAG_CheckEvent(STD_RETURN_TYPE_e cond, DIAG_ID_e diagId, DIAG_IMPACT_LEVEL_e impact, uint32_t data)</div><div class="ttdoc">DIAG_CheckEvent provides a simple interface to check an event for STD_OK.</div><div class="ttdef"><b>Definition:</b> <a href="diag_8c_source.html#l00374">diag.c:374</a></div></div>
<div class="ttc" id="adiag_8c_html_a9ccc8d9e39ec632833371523168c4927"><div class="ttname"><a href="diag_8c.html#a9ccc8d9e39ec632833371523168c4927">DIAG_Handler</a></div><div class="ttdeci">DIAG_RETURNTYPE_e DIAG_Handler(DIAG_ID_e diagId, DIAG_EVENT_e event, DIAG_IMPACT_LEVEL_e impact, uint32_t data)</div><div class="ttdoc">DIAG_Handler provides generic error handling, based on diagnosis group.</div><div class="ttdef"><b>Definition:</b> <a href="diag_8c_source.html#l00246">diag.c:246</a></div></div>
<div class="ttc" id="adiag_8h_html"><div class="ttname"><a href="diag_8h.html">diag.h</a></div><div class="ttdoc">Diagnosis driver header.</div></div>
<div class="ttc" id="adiag__cfg_8h_html_a1cf4ebb501b8762842208748e9f44868acc5c525710883039317d306f8148f530"><div class="ttname"><a href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868acc5c525710883039317d306f8148f530">DIAG_EVENT_NOT_OK</a></div><div class="ttdeci">@ DIAG_EVENT_NOT_OK</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00266">diag_cfg.h:266</a></div></div>
<div class="ttc" id="adiag__cfg_8h_html_a1cf4ebb501b8762842208748e9f44868af6dc8eb4f6ae8e000e83ec9486007807"><div class="ttname"><a href="diag__cfg_8h.html#a1cf4ebb501b8762842208748e9f44868af6dc8eb4f6ae8e000e83ec9486007807">DIAG_EVENT_OK</a></div><div class="ttdeci">@ DIAG_EVENT_OK</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00265">diag_cfg.h:265</a></div></div>
<div class="ttc" id="adiag__cfg_8h_html_a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3"><div class="ttname"><a href="diag__cfg_8h.html#a2c122ae6079624c45a38921086ae8f50ab990c384d5d9d494f1a03c70a11527e3">DIAG_STRING</a></div><div class="ttdeci">@ DIAG_STRING</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00279">diag_cfg.h:279</a></div></div>
<div class="ttc" id="adiag__cfg_8h_html_a8e25d401971802aabb87274569d02bfa"><div class="ttname"><a href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfa">DIAG_ID_e</a></div><div class="ttdeci">DIAG_ID_e</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00176">diag_cfg.h:176</a></div></div>
<div class="ttc" id="adiag__cfg_8h_html_a8e25d401971802aabb87274569d02bfaa1dca134f1d6be660f5d07fd7b2b89898"><div class="ttname"><a href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa1dca134f1d6be660f5d07fd7b2b89898">DIAG_ID_AFE_CELL_VOLTAGE_MEAS_ERROR</a></div><div class="ttdeci">@ DIAG_ID_AFE_CELL_VOLTAGE_MEAS_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00190">diag_cfg.h:190</a></div></div>
<div class="ttc" id="adiag__cfg_8h_html_a8e25d401971802aabb87274569d02bfaa2b21bf909c19e5e1b43379b92a434896"><div class="ttname"><a href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa2b21bf909c19e5e1b43379b92a434896">DIAG_ID_AFE_CELL_TEMPERATURE_MEAS_ERROR</a></div><div class="ttdeci">@ DIAG_ID_AFE_CELL_TEMPERATURE_MEAS_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00191">diag_cfg.h:191</a></div></div>
<div class="ttc" id="adiag__cfg_8h_html_a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5"><div class="ttname"><a href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaa8578c33d5a3e4101f3aef23587f39cb5">DIAG_ID_AFE_COM_INTEGRITY</a></div><div class="ttdeci">@ DIAG_ID_AFE_COM_INTEGRITY</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00181">diag_cfg.h:181</a></div></div>
<div class="ttc" id="adiag__cfg_8h_html_a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e"><div class="ttname"><a href="diag__cfg_8h.html#a8e25d401971802aabb87274569d02bfaad7eb03e73d736486d92d5418edfbb56e">DIAG_ID_AFE_SPI</a></div><div class="ttdeci">@ DIAG_ID_AFE_SPI</div><div class="ttdef"><b>Definition:</b> <a href="diag__cfg_8h_source.html#l00180">diag_cfg.h:180</a></div></div>
<div class="ttc" id="afassert_8h_html_a2852c8164c3a4a492aa798e59180996d"><div class="ttname"><a href="fassert_8h.html#a2852c8164c3a4a492aa798e59180996d">FAS_ASSERT</a></div><div class="ttdeci">#define FAS_ASSERT(x)</div><div class="ttdoc">Assertion macro that asserts that x is true.</div><div class="ttdef"><b>Definition:</b> <a href="fassert_8h_source.html#l00250">fassert.h:250</a></div></div>
<div class="ttc" id="afassert_8h_html_a75272b106cfd6946edcd4b19f7e8f40f"><div class="ttname"><a href="fassert_8h.html#a75272b106cfd6946edcd4b19f7e8f40f">FAS_TRAP</a></div><div class="ttdeci">#define FAS_TRAP</div><div class="ttdoc">Define that evaluates to essential boolean false thus tripping an assert.</div><div class="ttdef"><b>Definition:</b> <a href="fassert_8h_source.html#l00129">fassert.h:129</a></div></div>
<div class="ttc" id="afstd__types_8h_html_a15c0d7d047c476ea033586165d49d398"><div class="ttname"><a href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398">STD_RETURN_TYPE_e</a></div><div class="ttdeci">STD_RETURN_TYPE_e</div><div class="ttdef"><b>Definition:</b> <a href="fstd__types_8h_source.html#l00082">fstd_types.h:82</a></div></div>
<div class="ttc" id="afstd__types_8h_html_a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc"><div class="ttname"><a href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398a4bf9cb78ab5492c2a541881d4f426bdc">STD_NOT_OK</a></div><div class="ttdeci">@ STD_NOT_OK</div><div class="ttdef"><b>Definition:</b> <a href="fstd__types_8h_source.html#l00084">fstd_types.h:84</a></div></div>
<div class="ttc" id="afstd__types_8h_html_a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f"><div class="ttname"><a href="fstd__types_8h.html#a15c0d7d047c476ea033586165d49d398af8db2ffc453da17ecb1b56a059be0a5f">STD_OK</a></div><div class="ttdeci">@ STD_OK</div><div class="ttdef"><b>Definition:</b> <a href="fstd__types_8h_source.html#l00083">fstd_types.h:83</a></div></div>
<div class="ttc" id="afstd__types_8h_html_a530f11a96e508d171d28564c8dc20942"><div class="ttname"><a href="fstd__types_8h.html#a530f11a96e508d171d28564c8dc20942">NULL_PTR</a></div><div class="ttdeci">#define NULL_PTR</div><div class="ttdoc">Null pointer.</div><div class="ttdef"><b>Definition:</b> <a href="fstd__types_8h_source.html#l00077">fstd_types.h:77</a></div></div>
<div class="ttc" id="aio_8h_html"><div class="ttname"><a href="io_8h.html">io.h</a></div><div class="ttdoc">Header for the driver for the IO module.</div></div>
<div class="ttc" id="altc_8h_html"><div class="ttname"><a href="ltc_8h.html">ltc.h</a></div><div class="ttdoc">Headers for the driver for the LTC analog front-end.</div></div>
<div class="ttc" id="altc__6806_8c_html_a03bc847817ee42435fdba47e7ff1f4fd"><div class="ttname"><a href="ltc__6806_8c.html#a03bc847817ee42435fdba47e7ff1f4fd">ltc_cmdRDCVI_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVI_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00202">ltc_6806.c:202</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a08fa1d21fd853dd4b5a0c10a8099fcd0"><div class="ttname"><a href="ltc__6806_8c.html#a08fa1d21fd853dd4b5a0c10a8099fcd0">ltc_TxPecBuffer</a></div><div class="ttdeci">uint16_t ltc_TxPecBuffer[LTC_N_BYTES_FOR_DATA_TRANSMISSION]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00113">ltc_6806.c:113</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a0a7c52466ebf10c28061886c671582bd"><div class="ttname"><a href="ltc__6806_8c.html#a0a7c52466ebf10c28061886c671582bd">LTC_StartVoltageMeasurement</a></div><div class="ttdeci">static STD_RETURN_TYPE_e LTC_StartVoltageMeasurement(SPI_INTERFACE_CONFIG_s *pSpiInterface, LTC_ADCMODE_e adcMode, LTC_ADCMEAS_CHAN_e adcMeasCh)</div><div class="ttdoc">tells the LTC daisy-chain to start measuring the voltage on all cells.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01469">ltc_6806.c:1469</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a11dbfe76767f7c07648eed4c2c507bb6"><div class="ttname"><a href="ltc__6806_8c.html#a11dbfe76767f7c07648eed4c2c507bb6">ltc_allgpiovoltage</a></div><div class="ttdeci">static DATA_BLOCK_ALL_GPIO_VOLTAGES_s ltc_allgpiovoltage</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00124">ltc_6806.c:124</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a1876d6d06862e5b90604cde9401e3d65"><div class="ttname"><a href="ltc__6806_8c.html#a1876d6d06862e5b90604cde9401e3d65">ltc_openWire</a></div><div class="ttdeci">static DATA_BLOCK_OPEN_WIRE_s ltc_openWire</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00125">ltc_6806.c:125</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a2784ea1ea6b725911b4da1aa5bd7f0c0"><div class="ttname"><a href="ltc__6806_8c.html#a2784ea1ea6b725911b4da1aa5bd7f0c0">LTC_StartOpenWireMeasurement</a></div><div class="ttdeci">static STD_RETURN_TYPE_e LTC_StartOpenWireMeasurement(SPI_INTERFACE_CONFIG_s *pSpiInterface, LTC_ADCMODE_e adcMode, uint8_t PUP)</div><div class="ttdoc">tells LTC daisy-chain to start measuring the voltage on GPIOS.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01492">ltc_6806.c:1492</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a2bf428772686835ddaa8f9b24e899a26"><div class="ttname"><a href="ltc__6806_8c.html#a2bf428772686835ddaa8f9b24e899a26">ltc_cmdRDCVA_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVA_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00194">ltc_6806.c:194</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a2d2821a70f004c3698fae7850a9492b8"><div class="ttname"><a href="ltc__6806_8c.html#a2d2821a70f004c3698fae7850a9492b8">LTC_GetState</a></div><div class="ttdeci">LTC_STATEMACH_e LTC_GetState(LTC_STATE_s *ltc_state)</div><div class="ttdoc">gets the current state.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00568">ltc_6806.c:568</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a2edbd2d522ed4c00589101197aaa4e70"><div class="ttname"><a href="ltc__6806_8c.html#a2edbd2d522ed4c00589101197aaa4e70">LTC_ReadRegister</a></div><div class="ttdeci">static STD_RETURN_TYPE_e LTC_ReadRegister(uint16_t *Command, SPI_INTERFACE_CONFIG_s *pSpiInterface, uint16_t *pTxBuff, uint16_t *pRxBuff, uint32_t frameLength)</div><div class="ttdoc">send command to the LTC daisy-chain and receives data from the LTC daisy-chain.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01594">ltc_6806.c:1594</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a31a0f262a3434597949aa3251b633a79"><div class="ttname"><a href="ltc__6806_8c.html#a31a0f262a3434597949aa3251b633a79">LTC_IsFirstMeasurementCycleFinished</a></div><div class="ttdeci">bool LTC_IsFirstMeasurementCycleFinished(LTC_STATE_s *ltc_state)</div><div class="ttdoc">gets the measurement initialization status.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01729">ltc_6806.c:1729</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a346c9eea427d706ef24efe6c8615e0d7"><div class="ttname"><a href="ltc__6806_8c.html#a346c9eea427d706ef24efe6c8615e0d7">ltc_plausibleCellVoltages6806</a></div><div class="ttdeci">static const AFE_PLAUSIBILITY_VALUES_s ltc_plausibleCellVoltages6806</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00132">ltc_6806.c:132</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a380e5f9711535391a2222a54366208f1"><div class="ttname"><a href="ltc__6806_8c.html#a380e5f9711535391a2222a54366208f1">TEST_LTC_DEFINE_GET</a></div><div class="ttdeci">#define TEST_LTC_DEFINE_GET(VARIABLE)</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01779">ltc_6806.c:1779</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a3c9b0317c936d8bc03fb8e118ac2043d"><div class="ttname"><a href="ltc__6806_8c.html#a3c9b0317c936d8bc03fb8e118ac2043d">LTC_StateTransition</a></div><div class="ttdeci">static void LTC_StateTransition(LTC_STATE_s *ltc_state, LTC_STATEMACH_e state, uint8_t substate, uint16_t timer_ms)</div><div class="ttdoc">function for setting LTC_Trigger state transitions</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00350">ltc_6806.c:350</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a428e368fcc014375016c63a714201070"><div class="ttname"><a href="ltc__6806_8c.html#a428e368fcc014375016c63a714201070">LTC_SetFirstMeasurementCycleFinished</a></div><div class="ttdeci">static void LTC_SetFirstMeasurementCycleFinished(LTC_STATE_s *ltc_state)</div><div class="ttdoc">sets the measurement initialization status.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01742">ltc_6806.c:1742</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a42d4f8653843aeee6f118782dfff2c20"><div class="ttname"><a href="ltc__6806_8c.html#a42d4f8653843aeee6f118782dfff2c20">LTC_CheckStateRequest</a></div><div class="ttdeci">static LTC_RETURN_TYPE_e LTC_CheckStateRequest(LTC_STATE_s *ltc_state, LTC_REQUEST_s statereq)</div><div class="ttdoc">checks the state requests that are made.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01708">ltc_6806.c:1708</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a4bb4d1d651bd80b2151b62d35e3a2699"><div class="ttname"><a href="ltc__6806_8c.html#a4bb4d1d651bd80b2151b62d35e3a2699">LTC_SetStateRequest</a></div><div class="ttdeci">LTC_RETURN_TYPE_e LTC_SetStateRequest(LTC_STATE_s *ltc_state, LTC_REQUEST_s statereq)</div><div class="ttdoc">sets the current state request of the state variable ltc_state.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00606">ltc_6806.c:606</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a4d5112885fe7035b2960de338ff1d071"><div class="ttname"><a href="ltc__6806_8c.html#a4d5112885fe7035b2960de338ff1d071">ltc_cmdRDCVD_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVD_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00197">ltc_6806.c:197</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a4d6cd672e9ee1b77017532fb3c1c8921"><div class="ttname"><a href="ltc__6806_8c.html#a4d6cd672e9ee1b77017532fb3c1c8921">LTC_SetTransferTimes</a></div><div class="ttdeci">static void LTC_SetTransferTimes(LTC_STATE_s *ltc_state)</div><div class="ttdoc">sets the transfer time needed to receive/send data with the LTC daisy-chain.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01671">ltc_6806.c:1671</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a4fd9d165e4bc619474fe3d1653104833"><div class="ttname"><a href="ltc__6806_8c.html#a4fd9d165e4bc619474fe3d1653104833">LTC_GetSpiClock</a></div><div class="ttdeci">static uint32_t LTC_GetSpiClock(SPI_INTERFACE_CONFIG_s *pSpiInterface)</div><div class="ttdoc">gets the frequency of the SPI clock.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01630">ltc_6806.c:1630</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a50b400c86e94539ae6e6c6abd8b41391"><div class="ttname"><a href="ltc__6806_8c.html#a50b400c86e94539ae6e6c6abd8b41391">ltc_cmdRDCVG_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVG_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00200">ltc_6806.c:200</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a57c5f3a5e0d4780c01e104e5fb389870"><div class="ttname"><a href="ltc__6806_8c.html#a57c5f3a5e0d4780c01e104e5fb389870">ltc_cmdRDCVH_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVH_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00201">ltc_6806.c:201</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a5df2618318512a77c0fd7c0c3a3b13e6"><div class="ttname"><a href="ltc__6806_8c.html#a5df2618318512a77c0fd7c0c3a3b13e6">LTC_CheckPec</a></div><div class="ttdeci">static STD_RETURN_TYPE_e LTC_CheckPec(LTC_STATE_s *ltc_state, uint16_t *DataBufferSPI_RX_with_PEC, uint8_t stringNumber)</div><div class="ttdoc">checks if the data received from the daisy-chain is not corrupt.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01524">ltc_6806.c:1524</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a63e8c47308def4ac2096e5f574b71f23"><div class="ttname"><a href="ltc__6806_8c.html#a63e8c47308def4ac2096e5f574b71f23">ltc_cmdRDCVE_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVE_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00198">ltc_6806.c:198</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a675df2a9cacd99edbd47eec6d5ab3e79"><div class="ttname"><a href="ltc__6806_8c.html#a675df2a9cacd99edbd47eec6d5ab3e79">ltc_cmdRDCFG</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCFG[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00187">ltc_6806.c:187</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a68ee3c7e86c459f01878d9766ef0c917"><div class="ttname"><a href="ltc__6806_8c.html#a68ee3c7e86c459f01878d9766ef0c917">LTC_SaveLastStates</a></div><div class="ttdeci">static void LTC_SaveLastStates(LTC_STATE_s *ltc_state)</div><div class="ttdoc">Saves the last state and the last substate.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00337">ltc_6806.c:337</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a6bc859327ed6f6ac29c02103d71f8b93"><div class="ttname"><a href="ltc__6806_8c.html#a6bc859327ed6f6ac29c02103d71f8b93">LTC_TransferStateRequest</a></div><div class="ttdeci">LTC_REQUEST_s LTC_TransferStateRequest(LTC_STATE_s *ltc_state, uint8_t *pBusIDptr, LTC_ADCMODE_e *pAdcModeptr, LTC_ADCMEAS_CHAN_e *pAdcMeasChptr)</div><div class="ttdoc">transfers the current state request to the state machine.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00586">ltc_6806.c:586</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a6c664def5b7059842ab106bbb743775d"><div class="ttname"><a href="ltc__6806_8c.html#a6c664def5b7059842ab106bbb743775d">LTC_SaveTemperatures</a></div><div class="ttdeci">void LTC_SaveTemperatures(LTC_STATE_s *ltc_state, uint8_t stringNumber)</div><div class="ttdoc">stores the measured temperatures and the measured multiplexer feedbacks in the database.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00459">ltc_6806.c:459</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a70e1553a68fcd105b3d8b1234660319f"><div class="ttname"><a href="ltc__6806_8c.html#a70e1553a68fcd105b3d8b1234660319f">ltc_used_cells_index</a></div><div class="ttdeci">static uint16_t ltc_used_cells_index[BS_NR_OF_STRINGS]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00119">ltc_6806.c:119</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a7848ae997d34061529791bcf92acc7c0"><div class="ttname"><a href="ltc__6806_8c.html#a7848ae997d34061529791bcf92acc7c0">LTC_FUEL_CELL_LSB_RESOLUTION_mV</a></div><div class="ttdeci">#define LTC_FUEL_CELL_LSB_RESOLUTION_mV</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00089">ltc_6806.c:89</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a7cd8b1e13abf2fb07eadc0fd3bb4fd6f"><div class="ttname"><a href="ltc__6806_8c.html#a7cd8b1e13abf2fb07eadc0fd3bb4fd6f">LTC_InitializeMonitoringPin</a></div><div class="ttdeci">void LTC_InitializeMonitoringPin(void)</div><div class="ttdoc">Sets the transceiver pins to enable LTC6820 IC.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01748">ltc_6806.c:1748</a></div></div>
<div class="ttc" id="altc__6806_8c_html_a7dd742c36350b8f923127ab93f784e89"><div class="ttname"><a href="ltc__6806_8c.html#a7dd742c36350b8f923127ab93f784e89">ltc_cellVoltage</a></div><div class="ttdeci">static DATA_BLOCK_CELL_VOLTAGE_s ltc_cellVoltage</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00122">ltc_6806.c:122</a></div></div>
<div class="ttc" id="altc__6806_8c_html_aa337a867e837d819ec51d9729b6b0fc5"><div class="ttname"><a href="ltc__6806_8c.html#aa337a867e837d819ec51d9729b6b0fc5">LTC_SaveRXtoVoltagebuffer_Fuelcell</a></div><div class="ttdeci">static void LTC_SaveRXtoVoltagebuffer_Fuelcell(LTC_STATE_s *ltc_state, uint16_t *pRxBuff, uint8_t registerSet, uint8_t stringNumber)</div><div class="ttdoc">saves the voltage values read from the LTC daisy-chain.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01288">ltc_6806.c:1288</a></div></div>
<div class="ttc" id="altc__6806_8c_html_aa78a82e337a65d1cf509adf6810f08cf"><div class="ttname"><a href="ltc__6806_8c.html#aa78a82e337a65d1cf509adf6810f08cf">LTC_GetStateRequest</a></div><div class="ttdeci">LTC_REQUEST_s LTC_GetStateRequest(LTC_STATE_s *ltc_state)</div><div class="ttdoc">gets the current state request.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00548">ltc_6806.c:548</a></div></div>
<div class="ttc" id="altc__6806_8c_html_aa9babbfd0bbeef2b3107e8b28fb80b99"><div class="ttname"><a href="ltc__6806_8c.html#aa9babbfd0bbeef2b3107e8b28fb80b99">LTC_SaveVoltages</a></div><div class="ttdeci">void LTC_SaveVoltages(LTC_STATE_s *ltc_state, uint8_t stringNumber)</div><div class="ttdoc">stores the measured voltages in the database.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00399">ltc_6806.c:399</a></div></div>
<div class="ttc" id="altc__6806_8c_html_aac8d6273caa91c6cf0853b93868ea3a2"><div class="ttname"><a href="ltc__6806_8c.html#aac8d6273caa91c6cf0853b93868ea3a2">LTC_FUELCELL_NEGATIVE_FULLSCALE_RANGE_mV</a></div><div class="ttdeci">#define LTC_FUELCELL_NEGATIVE_FULLSCALE_RANGE_mV</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00102">ltc_6806.c:102</a></div></div>
<div class="ttc" id="altc__6806_8c_html_aaf84ea01e26f5cabd668be8bc46eda9a"><div class="ttname"><a href="ltc__6806_8c.html#aaf84ea01e26f5cabd668be8bc46eda9a">LTC_Init</a></div><div class="ttdeci">static STD_RETURN_TYPE_e LTC_Init(SPI_INTERFACE_CONFIG_s *pSpiInterface, uint16_t *pTxBuff, uint16_t *pRxBuff, uint32_t frameLength)</div><div class="ttdoc">initialize the daisy-chain.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01391">ltc_6806.c:1391</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ab465bc3da734177a75cf5d92218f3cd4"><div class="ttname"><a href="ltc__6806_8c.html#ab465bc3da734177a75cf5d92218f3cd4">LTC_ResetErrorTable</a></div><div class="ttdeci">static void LTC_ResetErrorTable(LTC_STATE_s *ltc_state)</div><div class="ttdoc">resets the error table.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01443">ltc_6806.c:1443</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ab6caa54dfdafae4bebc8a33bff64fa96"><div class="ttname"><a href="ltc__6806_8c.html#ab6caa54dfdafae4bebc8a33bff64fa96">ltc_stateBase</a></div><div class="ttdeci">LTC_STATE_s ltc_stateBase</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00139">ltc_6806.c:139</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ab74c4effdd5ff50af1d487682a6874db"><div class="ttname"><a href="ltc__6806_8c.html#ab74c4effdd5ff50af1d487682a6874db">ltc_cmdRDCVF_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVF_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00199">ltc_6806.c:199</a></div></div>
<div class="ttc" id="altc__6806_8c_html_abb754093f8cb682e0646505a25ddbed2"><div class="ttname"><a href="ltc__6806_8c.html#abb754093f8cb682e0646505a25ddbed2">ltc_cmdRDCVB_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVB_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00195">ltc_6806.c:195</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ac215f834513e975d151fac2a8a9bbe5f"><div class="ttname"><a href="ltc__6806_8c.html#ac215f834513e975d151fac2a8a9bbe5f">LTC_SaveAllGpioMeasurement</a></div><div class="ttdeci">void LTC_SaveAllGpioMeasurement(LTC_STATE_s *ltc_state)</div><div class="ttdoc">stores the measured GPIOs in the database.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00507">ltc_6806.c:507</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ac494d29effc5f7b897f25f02f568ed8c"><div class="ttname"><a href="ltc__6806_8c.html#ac494d29effc5f7b897f25f02f568ed8c">ltc_errorTable</a></div><div class="ttdeci">static LTC_ERRORTABLE_s ltc_errorTable</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00129">ltc_6806.c:129</a></div></div>
<div class="ttc" id="altc__6806_8c_html_acf30d82064c640d2c4f36cd270c0647b"><div class="ttname"><a href="ltc__6806_8c.html#acf30d82064c640d2c4f36cd270c0647b">LTC_Trigger</a></div><div class="ttdeci">void LTC_Trigger(LTC_STATE_s *ltc_state)</div><div class="ttdoc">trigger function for the LTC driver state machine.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00621">ltc_6806.c:621</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ad184ef8adbd5dadb067b1d96257531cc"><div class="ttname"><a href="ltc__6806_8c.html#ad184ef8adbd5dadb067b1d96257531cc">LTC_CheckReEntrance</a></div><div class="ttdeci">uint8_t LTC_CheckReEntrance(LTC_STATE_s *ltc_state)</div><div class="ttdoc">re-entrance check of LTC state machine trigger function</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00525">ltc_6806.c:525</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ad2a7e215508682519eaea9e14699e1eb"><div class="ttname"><a href="ltc__6806_8c.html#ad2a7e215508682519eaea9e14699e1eb">LTC_FUELCELL_POSITIVE_FULLSCALE_RANGE_mV</a></div><div class="ttdeci">#define LTC_FUELCELL_POSITIVE_FULLSCALE_RANGE_mV</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00097">ltc_6806.c:97</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ad8da54dbf5d4f08339a5503091d94b7c"><div class="ttname"><a href="ltc__6806_8c.html#ad8da54dbf5d4f08339a5503091d94b7c">LTC_InitializeDatabase</a></div><div class="ttdeci">static void LTC_InitializeDatabase(LTC_STATE_s *ltc_state)</div><div class="ttdoc">in the database, initializes the fields related to the LTC drivers.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00301">ltc_6806.c:301</a></div></div>
<div class="ttc" id="altc__6806_8c_html_add96e04495e7965da7206a251cb2b307"><div class="ttname"><a href="ltc__6806_8c.html#add96e04495e7965da7206a251cb2b307">ltc_RxPecBuffer</a></div><div class="ttdeci">uint16_t ltc_RxPecBuffer[LTC_N_BYTES_FOR_DATA_TRANSMISSION]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00112">ltc_6806.c:112</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ae729dfa6ea9dd57925f5f4ca2f103689"><div class="ttname"><a href="ltc__6806_8c.html#ae729dfa6ea9dd57925f5f4ca2f103689">ltc_openWireDetection</a></div><div class="ttdeci">static LTC_OPENWIRE_DETECTION_s ltc_openWireDetection</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00128">ltc_6806.c:128</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ae81b8aa0def104fff84ac45b1832c209"><div class="ttname"><a href="ltc__6806_8c.html#ae81b8aa0def104fff84ac45b1832c209">LTC_CondBasedStateTransition</a></div><div class="ttdeci">static void LTC_CondBasedStateTransition(LTC_STATE_s *ltc_state, STD_RETURN_TYPE_e retVal, DIAG_ID_e diagCode, LTC_STATEMACH_e state_ok, uint8_t substate_ok, uint16_t timer_ms_ok, LTC_STATEMACH_e state_nok, uint8_t substate_nok, uint16_t timer_ms_nok)</div><div class="ttdoc">condition-based state transition depending on retVal</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00379">ltc_6806.c:379</a></div></div>
<div class="ttc" id="altc__6806_8c_html_ae87b4a5c56ea97b4968de9f3651c52ec"><div class="ttname"><a href="ltc__6806_8c.html#ae87b4a5c56ea97b4968de9f3651c52ec">ltc_BC_cmdADOW_PDOWN_100ms_fuelcell</a></div><div class="ttdeci">static uint16_t ltc_BC_cmdADOW_PDOWN_100ms_fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00233">ltc_6806.c:233</a></div></div>
<div class="ttc" id="altc__6806_8c_html_aed556e26e35fe44881bb2405205aeeff"><div class="ttname"><a href="ltc__6806_8c.html#aed556e26e35fe44881bb2405205aeeff">ltc_cmdWRCFG</a></div><div class="ttdeci">static uint16_t ltc_cmdWRCFG[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00186">ltc_6806.c:186</a></div></div>
<div class="ttc" id="altc__6806_8c_html_aedc383042bee40b29823c29006e1c681"><div class="ttname"><a href="ltc__6806_8c.html#aedc383042bee40b29823c29006e1c681">TEST_LTC_SetFirstMeasurementCycleFinished</a></div><div class="ttdeci">void TEST_LTC_SetFirstMeasurementCycleFinished(LTC_STATE_s *ltc_state)</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01774">ltc_6806.c:1774</a></div></div>
<div class="ttc" id="altc__6806_8c_html_af4ad57efd74974a7e631780c5079e760"><div class="ttname"><a href="ltc__6806_8c.html#af4ad57efd74974a7e631780c5079e760">ltc_celltemperature</a></div><div class="ttdeci">static DATA_BLOCK_CELL_TEMPERATURE_s ltc_celltemperature</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00123">ltc_6806.c:123</a></div></div>
<div class="ttc" id="altc__6806_8c_html_af4b0118e62526439b3397ee02d7448ad"><div class="ttname"><a href="ltc__6806_8c.html#af4b0118e62526439b3397ee02d7448ad">ltc_BC_cmdADOW_PUP_100ms_fuelcell</a></div><div class="ttdeci">static uint16_t ltc_BC_cmdADOW_PUP_100ms_fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00231">ltc_6806.c:231</a></div></div>
<div class="ttc" id="altc__6806_8c_html_af92967c2058b46aef67beecdd3218eb4"><div class="ttname"><a href="ltc__6806_8c.html#af92967c2058b46aef67beecdd3218eb4">ltc_cmdRDCVC_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdRDCVC_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00196">ltc_6806.c:196</a></div></div>
<div class="ttc" id="altc__6806_8c_html_afbba8f00e53a99341efca57039017a43"><div class="ttname"><a href="ltc__6806_8c.html#afbba8f00e53a99341efca57039017a43">ltc_cmdADCV_normal_Fuelcell</a></div><div class="ttdeci">static uint16_t ltc_cmdADCV_normal_Fuelcell[4]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l00207">ltc_6806.c:207</a></div></div>
<div class="ttc" id="altc__6806_8c_html_afe5522ea8341f0294d56c4e2f656d4b2"><div class="ttname"><a href="ltc__6806_8c.html#afe5522ea8341f0294d56c4e2f656d4b2">TEST_LTC_CheckReEntrance</a></div><div class="ttdeci">uint8_t TEST_LTC_CheckReEntrance(LTC_STATE_s *ltc_state)</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806_8c_source.html#l01770">ltc_6806.c:1770</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html"><div class="ttname"><a href="ltc__6806__cfg_8h.html">ltc_6806_cfg.h</a></div><div class="ttdoc">Header for the configuration for the LTC 6806 monitoring IC.</div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a097cecf964ffd2541604349a3b8c30a4"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a097cecf964ffd2541604349a3b8c30a4">LTC_STATEMACH_DAISY_CHAIN_FIRST_INITIALIZATION_TIME</a></div><div class="ttdeci">#define LTC_STATEMACH_DAISY_CHAIN_FIRST_INITIALIZATION_TIME</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00188">ltc_6806_cfg.h:188</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a119b76896ef32df90cf5d95115a6eb2f"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a119b76896ef32df90cf5d95115a6eb2f">LTC_TRANSMISSION_TIMEOUT</a></div><div class="ttdeci">#define LTC_TRANSMISSION_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00157">ltc_6806_cfg.h:157</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a13ead652292c2bfdb3b13eed32378cb8"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a13ead652292c2bfdb3b13eed32378cb8">LTC_FUELCELL_NORMAL_ALL_CELLS_MS</a></div><div class="ttdeci">#define LTC_FUELCELL_NORMAL_ALL_CELLS_MS</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00179">ltc_6806_cfg.h:179</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a51b13b433bc24064fee7e9d315e79d7a"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a51b13b433bc24064fee7e9d315e79d7a">LTC_TRANSMIT_COMMAND</a></div><div class="ttdeci">#define LTC_TRANSMIT_COMMAND(spi_ltcInterface, command)</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00283">ltc_6806_cfg.h:283</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a58650dce0cfbc661f38b84bf26e5d310"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a58650dce0cfbc661f38b84bf26e5d310">LTC_STATEMACH_SHORTTIME</a></div><div class="ttdeci">#define LTC_STATEMACH_SHORTTIME</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00182">ltc_6806_cfg.h:182</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a59be4c4c0d9fcae8d3bf4d41432d34e8"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a59be4c4c0d9fcae8d3bf4d41432d34e8">LTC_DISCARD_PEC</a></div><div class="ttdeci">#define LTC_DISCARD_PEC</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00100">ltc_6806_cfg.h:100</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a726a05b79bc7a2d7de3996a59cb00cf8"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a726a05b79bc7a2d7de3996a59cb00cf8">LTC_NUMBER_OF_LTC_PER_MODULE</a></div><div class="ttdeci">#define LTC_NUMBER_OF_LTC_PER_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00115">ltc_6806_cfg.h:115</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a7285bbaf8ae0c1ea55dbbb3a28349b02"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a7285bbaf8ae0c1ea55dbbb3a28349b02">LTC_HIRNG</a></div><div class="ttdeci">#define LTC_HIRNG</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00122">ltc_6806_cfg.h:122</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a9484c2122eba974a43304b18323a2c7f"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a9484c2122eba974a43304b18323a2c7f">LTC_VOLTAGE_MEASUREMENT_MODE</a></div><div class="ttdeci">#define LTC_VOLTAGE_MEASUREMENT_MODE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00136">ltc_6806_cfg.h:136</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_a99b62022d3438ab0eece21fb3c8528d2"><div class="ttname"><a href="ltc__6806__cfg_8h.html#a99b62022d3438ab0eece21fb3c8528d2">LTC_ADOW_THRESHOLD</a></div><div class="ttdeci">#define LTC_ADOW_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00128">ltc_6806_cfg.h:128</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_aaf256ac5b7c3da5b826425ae9240afb4"><div class="ttname"><a href="ltc__6806__cfg_8h.html#aaf256ac5b7c3da5b826425ae9240afb4">LTC_FUEL_CELL_ADOW_TIME_MS</a></div><div class="ttdeci">#define LTC_FUEL_CELL_ADOW_TIME_MS</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00125">ltc_6806_cfg.h:125</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_ac823ea06e1dffea1bbdcca61e6f4e3dc"><div class="ttname"><a href="ltc__6806__cfg_8h.html#ac823ea06e1dffea1bbdcca61e6f4e3dc">LTC_SPI_WAKEUP_WAIT_TIME_US</a></div><div class="ttdeci">#define LTC_SPI_WAKEUP_WAIT_TIME_US</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00176">ltc_6806_cfg.h:176</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_aeaf6045e4bf350f4a1f8db6a4131d945"><div class="ttname"><a href="ltc__6806__cfg_8h.html#aeaf6045e4bf350f4a1f8db6a4131d945">LTC_TRANSMIT_WAKE_UP</a></div><div class="ttdeci">#define LTC_TRANSMIT_WAKE_UP(spi_ltcInterface)</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00279">ltc_6806_cfg.h:279</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_aece792ed826e80c5a508bfefdca5b818"><div class="ttname"><a href="ltc__6806__cfg_8h.html#aece792ed826e80c5a508bfefdca5b818">LTC_NMBR_REQ_ADOW_COMMANDS</a></div><div class="ttdeci">#define LTC_NMBR_REQ_ADOW_COMMANDS</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00273">ltc_6806_cfg.h:273</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_af490641dd2f6c7a7ff1ee144528d6070"><div class="ttname"><a href="ltc__6806__cfg_8h.html#af490641dd2f6c7a7ff1ee144528d6070">LTC_OW_MEASUREMENT_MODE</a></div><div class="ttdeci">#define LTC_OW_MEASUREMENT_MODE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00151">ltc_6806_cfg.h:151</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_afcb93f6520084e6ec2cddbb3571aba3f"><div class="ttname"><a href="ltc__6806__cfg_8h.html#afcb93f6520084e6ec2cddbb3571aba3f">LTC_TRANSMIT_RECEIVE_DATA</a></div><div class="ttdeci">#define LTC_TRANSMIT_RECEIVE_DATA(spi_ltcInterface, txbuf, rxbuf, length)</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00286">ltc_6806_cfg.h:286</a></div></div>
<div class="ttc" id="altc__6806__cfg_8h_html_affa73aaac089b7419b873ecc8ec71a93"><div class="ttname"><a href="ltc__6806__cfg_8h.html#affa73aaac089b7419b873ecc8ec71a93">LTC_STATEMACH_DAISY_CHAIN_SECOND_INITIALIZATION_TIME</a></div><div class="ttdeci">#define LTC_STATEMACH_DAISY_CHAIN_SECOND_INITIALIZATION_TIME</div><div class="ttdef"><b>Definition:</b> <a href="ltc__6806__cfg_8h_source.html#l00193">ltc_6806_cfg.h:193</a></div></div>
<div class="ttc" id="altc__afe__dma_8c_html_a41589e9bbef5ab1714ce39c3202c038f"><div class="ttname"><a href="ltc__afe__dma_8c.html#a41589e9bbef5ab1714ce39c3202c038f">AFE_IsTransmitOngoing</a></div><div class="ttdeci">bool AFE_IsTransmitOngoing(LTC_STATE_s *pLtcState)</div><div class="ttdoc">gets the SPI transmit status.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__afe__dma_8c_source.html#l00077">ltc_afe_dma.c:77</a></div></div>
<div class="ttc" id="altc__afe__dma_8c_html_ae079532d397f92e5636a273f36953034"><div class="ttname"><a href="ltc__afe__dma_8c.html#ae079532d397f92e5636a273f36953034">AFE_SetTransmitOngoing</a></div><div class="ttdeci">void AFE_SetTransmitOngoing(LTC_STATE_s *pLtcState)</div><div class="ttdoc">sets the SPI transmit status.</div><div class="ttdef"><b>Definition:</b> <a href="ltc__afe__dma_8c_source.html#l00082">ltc_afe_dma.c:82</a></div></div>
<div class="ttc" id="altc__cfg_8h_html_aa3f643ec54a39b58256f75a5e107e1d8"><div class="ttname"><a href="ltc__cfg_8h.html#aa3f643ec54a39b58256f75a5e107e1d8">LTC_N_BYTES_FOR_DATA_TRANSMISSION</a></div><div class="ttdeci">#define LTC_N_BYTES_FOR_DATA_TRANSMISSION</div><div class="ttdef"><b>Definition:</b> <a href="ltc__cfg_8h_source.html#l00079">ltc_cfg.h:79</a></div></div>
<div class="ttc" id="altc__cfg_8h_html_ab1d384a3fb7fc4b15f95725129e825ae"><div class="ttname"><a href="ltc__cfg_8h.html#ab1d384a3fb7fc4b15f95725129e825ae">LTC_N_LTC</a></div><div class="ttdeci">#define LTC_N_LTC</div><div class="ttdef"><b>Definition:</b> <a href="ltc__cfg_8h_source.html#l00068">ltc_cfg.h:68</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a046991d8f8ab352dad7ac39029e4c34ba13d2ad30f2de0e4cc44a121a19c854a7"><div class="ttname"><a href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba13d2ad30f2de0e4cc44a121a19c854a7">LTC_RE_ENTRY_INITIALIZATION</a></div><div class="ttdeci">@ LTC_RE_ENTRY_INITIALIZATION</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00181">ltc_defs.h:181</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a046991d8f8ab352dad7ac39029e4c34ba2d2f77083a7615fe667b722321402673"><div class="ttname"><a href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba2d2f77083a7615fe667b722321402673">LTC_ENTRY_INITIALIZATION</a></div><div class="ttdeci">@ LTC_ENTRY_INITIALIZATION</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00179">ltc_defs.h:179</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a046991d8f8ab352dad7ac39029e4c34ba77ded2c5510c4bee73d46f08ee1ecc2d"><div class="ttname"><a href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34ba77ded2c5510c4bee73d46f08ee1ecc2d">LTC_START_INIT_INITIALIZATION</a></div><div class="ttdeci">@ LTC_START_INIT_INITIALIZATION</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00180">ltc_defs.h:180</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a046991d8f8ab352dad7ac39029e4c34bae3486b48f4754c49faee762dd3eb593e"><div class="ttname"><a href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34bae3486b48f4754c49faee762dd3eb593e">LTC_EXIT_INITIALIZATION</a></div><div class="ttdeci">@ LTC_EXIT_INITIALIZATION</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00184">ltc_defs.h:184</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a046991d8f8ab352dad7ac39029e4c34baf3c64872edf26a56627cf51ebd0418a1"><div class="ttname"><a href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34baf3c64872edf26a56627cf51ebd0418a1">LTC_CHECK_INITIALIZATION</a></div><div class="ttdeci">@ LTC_CHECK_INITIALIZATION</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00183">ltc_defs.h:183</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a046991d8f8ab352dad7ac39029e4c34baf7d1ac6dc92933f6c1a6964c4eaccbd8"><div class="ttname"><a href="ltc__defs_8h.html#a046991d8f8ab352dad7ac39029e4c34baf7d1ac6dc92933f6c1a6964c4eaccbd8">LTC_INIT_STRING</a></div><div class="ttdeci">@ LTC_INIT_STRING</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00178">ltc_defs.h:178</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a1ecab3bf44db531c325d43581fc66a8fa32d31ccbfce34084aee81b9d82d8c647"><div class="ttname"><a href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8fa32d31ccbfce34084aee81b9d82d8c647">LTC_STATE_INIT_REQUEST</a></div><div class="ttdeci">@ LTC_STATE_INIT_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00369">ltc_defs.h:369</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a1ecab3bf44db531c325d43581fc66a8fab5e65b44747c95eb2ceae71a3b633942"><div class="ttname"><a href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8fab5e65b44747c95eb2ceae71a3b633942">LTC_STATE_OPENWIRE_CHECK_REQUEST</a></div><div class="ttdeci">@ LTC_STATE_OPENWIRE_CHECK_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00391">ltc_defs.h:391</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e"><div class="ttname"><a href="ltc__defs_8h.html#a1ecab3bf44db531c325d43581fc66a8faf4e66343294c7497a36ec9f6a2aca28e">LTC_STATE_NO_REQUEST</a></div><div class="ttdeci">@ LTC_STATE_NO_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00395">ltc_defs.h:395</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4">LTC_STATEMACH_e</a></div><div class="ttdeci">LTC_STATEMACH_e</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00122">ltc_defs.h:122</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a05636b834b23c22d10abde17efd8267a">LTC_STATEMACH_INITIALIZATION</a></div><div class="ttdeci">@ LTC_STATEMACH_INITIALIZATION</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00125">ltc_defs.h:125</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4a07fdad695f6f58fa8be1d79bb85e070e"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a07fdad695f6f58fa8be1d79bb85e070e">LTC_STATEMACH_UNINITIALIZED</a></div><div class="ttdeci">@ LTC_STATEMACH_UNINITIALIZED</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00124">ltc_defs.h:124</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4a3eaab007db11da9c9cb12097f6d06f17"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a3eaab007db11da9c9cb12097f6d06f17">LTC_STATEMACH_STARTMEAS_CONTINUE</a></div><div class="ttdeci">@ LTC_STATEMACH_STARTMEAS_CONTINUE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00153">ltc_defs.h:153</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a47788f8d608dce570ca8923cd6e3fc99">LTC_STATEMACH_OPENWIRE_CHECK</a></div><div class="ttdeci">@ LTC_STATEMACH_OPENWIRE_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00145">ltc_defs.h:145</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4a7713c2ee698f27242c3ded7463340691">LTC_STATEMACH_READVOLTAGE</a></div><div class="ttdeci">@ LTC_STATEMACH_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00131">ltc_defs.h:131</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4aaf75c41bec797b8e31ce3b082af30a58"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4aaf75c41bec797b8e31ce3b082af30a58">LTC_STATEMACH_INITIALIZED</a></div><div class="ttdeci">@ LTC_STATEMACH_INITIALIZED</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00127">ltc_defs.h:127</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a3bf622ee46cb96e2dc6ed99ba41571b4add62baf8e288fbceafe73ce06b18eeda"><div class="ttname"><a href="ltc__defs_8h.html#a3bf622ee46cb96e2dc6ed99ba41571b4add62baf8e288fbceafe73ce06b18eeda">LTC_STATEMACH_STARTMEAS</a></div><div class="ttdeci">@ LTC_STATEMACH_STARTMEAS</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00130">ltc_defs.h:130</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a511aca976e206b546489ccd9618babd1"><div class="ttname"><a href="ltc__defs_8h.html#a511aca976e206b546489ccd9618babd1">LTC_DATA_SIZE_IN_BYTES</a></div><div class="ttdeci">#define LTC_DATA_SIZE_IN_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00087">ltc_defs.h:87</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a6b32da8fb663542039a74ed82efaa850a56c8715ea2f4970316113ae035d500bf"><div class="ttname"><a href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850a56c8715ea2f4970316113ae035d500bf">LTC_REQUEST_PULLDOWN_CURRENT_OPENWIRE_CHECK</a></div><div class="ttdeci">@ LTC_REQUEST_PULLDOWN_CURRENT_OPENWIRE_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00240">ltc_defs.h:240</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a6b32da8fb663542039a74ed82efaa850a7fd62dc94ef602a125a1588dc1a8f353"><div class="ttname"><a href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850a7fd62dc94ef602a125a1588dc1a8f353">LTC_READ_VOLTAGES_PULLDOWN_OPENWIRE_CHECK</a></div><div class="ttdeci">@ LTC_READ_VOLTAGES_PULLDOWN_OPENWIRE_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00241">ltc_defs.h:241</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a6b32da8fb663542039a74ed82efaa850ab30daf62dcdb3ca47506b909f5433eb7"><div class="ttname"><a href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850ab30daf62dcdb3ca47506b909f5433eb7">LTC_READ_VOLTAGES_PULLUP_OPENWIRE_CHECK</a></div><div class="ttdeci">@ LTC_READ_VOLTAGES_PULLUP_OPENWIRE_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00239">ltc_defs.h:239</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a6b32da8fb663542039a74ed82efaa850abd3df139e3ef1d32ab505951b2388c9d"><div class="ttname"><a href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850abd3df139e3ef1d32ab505951b2388c9d">LTC_REQUEST_PULLUP_CURRENT_OPENWIRE_CHECK</a></div><div class="ttdeci">@ LTC_REQUEST_PULLUP_CURRENT_OPENWIRE_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00238">ltc_defs.h:238</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a6b32da8fb663542039a74ed82efaa850adc90e3c9621062fedcb54e34896479dc"><div class="ttname"><a href="ltc__defs_8h.html#a6b32da8fb663542039a74ed82efaa850adc90e3c9621062fedcb54e34896479dc">LTC_PERFORM_OPENWIRE_CHECK</a></div><div class="ttdeci">@ LTC_PERFORM_OPENWIRE_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00242">ltc_defs.h:242</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a73470c378a2a93ee4e6d1c0a6ebb6455"><div class="ttname"><a href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455">LTC_ADCMEAS_CHAN_e</a></div><div class="ttdeci">LTC_ADCMEAS_CHAN_e</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00108">ltc_defs.h:108</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a73470c378a2a93ee4e6d1c0a6ebb6455a3b6a6403ef212829cd2f8b62f169c27a"><div class="ttname"><a href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455a3b6a6403ef212829cd2f8b62f169c27a">LTC_ADCMEAS_UNDEFINED</a></div><div class="ttdeci">@ LTC_ADCMEAS_UNDEFINED</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00109">ltc_defs.h:109</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a73470c378a2a93ee4e6d1c0a6ebb6455aea996f94e3d037ef4b85f0fc7b2f51be"><div class="ttname"><a href="ltc__defs_8h.html#a73470c378a2a93ee4e6d1c0a6ebb6455aea996f94e3d037ef4b85f0fc7b2f51be">LTC_ADCMEAS_ALLCHANNEL_CELLS</a></div><div class="ttdeci">@ LTC_ADCMEAS_ALLCHANNEL_CELLS</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00110">ltc_defs.h:110</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7">LTC_RETURN_TYPE_e</a></div><div class="ttdeci">LTC_RETURN_TYPE_e</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00401">ltc_defs.h:401</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7a0c8ec0eed8ce22ff4fe211fec479bead"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7a0c8ec0eed8ce22ff4fe211fec479bead">LTC_BUSY_OK</a></div><div class="ttdeci">@ LTC_BUSY_OK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00403">ltc_defs.h:403</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7a3cbf4fe7a25d2e18acaa4b7c21cf1509"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7a3cbf4fe7a25d2e18acaa4b7c21cf1509">LTC_ILLEGAL_REQUEST</a></div><div class="ttdeci">@ LTC_ILLEGAL_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00405">ltc_defs.h:405</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7a8dfe24407905e9633319c2067f63a9c8"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7a8dfe24407905e9633319c2067f63a9c8">LTC_ALREADY_INITIALIZED</a></div><div class="ttdeci">@ LTC_ALREADY_INITIALIZED</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00412">ltc_defs.h:412</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7aab1827d38e093b85803b39e01b86488a"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7aab1827d38e093b85803b39e01b86488a">LTC_ERROR</a></div><div class="ttdeci">@ LTC_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00411">ltc_defs.h:411</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7ac0a8a30639bbf81fdb9ea28b0c260fda"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ac0a8a30639bbf81fdb9ea28b0c260fda">LTC_OK_FROM_ERROR</a></div><div class="ttdeci">@ LTC_OK_FROM_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00410">ltc_defs.h:410</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7ad453369e22c4032a2048324469626933"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ad453369e22c4032a2048324469626933">LTC_REQUEST_PENDING</a></div><div class="ttdeci">@ LTC_REQUEST_PENDING</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00404">ltc_defs.h:404</a></div></div>
<div class="ttc" id="altc__defs_8h_html_a7db2a44bd361b3439dd24ba1e62102a7ad9ae3d530d332f137bab96ef193eb268"><div class="ttname"><a href="ltc__defs_8h.html#a7db2a44bd361b3439dd24ba1e62102a7ad9ae3d530d332f137bab96ef193eb268">LTC_OK</a></div><div class="ttdeci">@ LTC_OK</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00402">ltc_defs.h:402</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ea0255f863ca7f02fb3a868aaa7ebccfed"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea0255f863ca7f02fb3a868aaa7ebccfed">LTC_READ_VOLTAGE_REGISTER_F_RDCVF_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_F_RDCVF_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00200">ltc_defs.h:200</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea2c4609255b60da8fc1a6ddcc5977fc25">LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_A_RDCVA_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00195">ltc_defs.h:195</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ea62eb7ee2b9458e88865f161b1c447e62"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea62eb7ee2b9458e88865f161b1c447e62">LTC_READ_VOLTAGE_REGISTER_D_RDCVD_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_D_RDCVD_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00198">ltc_defs.h:198</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ea701473fdf9a482e5af814b5dd584b1a6"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea701473fdf9a482e5af814b5dd584b1a6">LTC_READ_VOLTAGE_REGISTER_G_RDCVG_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_G_RDCVG_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00201">ltc_defs.h:201</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ea99f19a19204723ddf3c82f2508ee30f0"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ea99f19a19204723ddf3c82f2508ee30f0">LTC_READ_VOLTAGE_REGISTER_I_RDCVI_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_I_RDCVI_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00203">ltc_defs.h:203</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969eacef9e953b7d0f0b2247802871fa331e7"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eacef9e953b7d0f0b2247802871fa331e7">LTC_READ_VOLTAGE_REGISTER_B_RDCVB_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_B_RDCVB_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00196">ltc_defs.h:196</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ead399b11c7c8033d9da2e0aa1392e4fb6"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead399b11c7c8033d9da2e0aa1392e4fb6">LTC_EXIT_READVOLTAGE</a></div><div class="ttdeci">@ LTC_EXIT_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00204">ltc_defs.h:204</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ead57d0579963bc3896b652ef0c7ffa157"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead57d0579963bc3896b652ef0c7ffa157">LTC_READ_VOLTAGE_REGISTER_H_RDCVH_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_H_RDCVH_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00202">ltc_defs.h:202</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969ead9bc5bc6e823766241b97e8dd8c88600"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969ead9bc5bc6e823766241b97e8dd8c88600">LTC_READ_VOLTAGE_REGISTER_E_RDCVE_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_E_RDCVE_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00199">ltc_defs.h:199</a></div></div>
<div class="ttc" id="altc__defs_8h_html_abb11f92f4b28823deeae0c186805969eaf68fcf824e36a01bfa307c91865d4343"><div class="ttname"><a href="ltc__defs_8h.html#abb11f92f4b28823deeae0c186805969eaf68fcf824e36a01bfa307c91865d4343">LTC_READ_VOLTAGE_REGISTER_C_RDCVC_READVOLTAGE</a></div><div class="ttdeci">@ LTC_READ_VOLTAGE_REGISTER_C_RDCVC_READVOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00197">ltc_defs.h:197</a></div></div>
<div class="ttc" id="altc__defs_8h_html_ac69b34610b9fb949d081049d63b05a0ea1654a6c9e2c0045c83543696d4f89308"><div class="ttname"><a href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0ea1654a6c9e2c0045c83543696d4f89308">LTC_REUSE_READVOLT_FOR_ADOW_PUP</a></div><div class="ttdeci">@ LTC_REUSE_READVOLT_FOR_ADOW_PUP</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00499">ltc_defs.h:499</a></div></div>
<div class="ttc" id="altc__defs_8h_html_ac69b34610b9fb949d081049d63b05a0ea571f4293b46860c972121d270f4df343"><div class="ttname"><a href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0ea571f4293b46860c972121d270f4df343">LTC_REUSE_READVOLT_FOR_ADOW_PDOWN</a></div><div class="ttdeci">@ LTC_REUSE_READVOLT_FOR_ADOW_PDOWN</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00500">ltc_defs.h:500</a></div></div>
<div class="ttc" id="altc__defs_8h_html_ac69b34610b9fb949d081049d63b05a0eaa428637421b7bd72c77de3749f1a6456"><div class="ttname"><a href="ltc__defs_8h.html#ac69b34610b9fb949d081049d63b05a0eaa428637421b7bd72c77de3749f1a6456">LTC_NOT_REUSED</a></div><div class="ttdeci">@ LTC_NOT_REUSED</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00498">ltc_defs.h:498</a></div></div>
<div class="ttc" id="altc__defs_8h_html_adea19c9f914aa41eedbc3f3f39ab38e2"><div class="ttname"><a href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2">LTC_ADCMODE_e</a></div><div class="ttdeci">LTC_ADCMODE_e</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00097">ltc_defs.h:97</a></div></div>
<div class="ttc" id="altc__defs_8h_html_adea19c9f914aa41eedbc3f3f39ab38e2a07f4ce2ab60d13131fe74d6f9d6003da"><div class="ttname"><a href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2a07f4ce2ab60d13131fe74d6f9d6003da">LTC_ADCMODE_UNDEFINED</a></div><div class="ttdeci">@ LTC_ADCMODE_UNDEFINED</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00098">ltc_defs.h:98</a></div></div>
<div class="ttc" id="altc__defs_8h_html_adea19c9f914aa41eedbc3f3f39ab38e2ad7ce7075a3058b2ce2a7499452eed8df"><div class="ttname"><a href="ltc__defs_8h.html#adea19c9f914aa41eedbc3f3f39ab38e2ad7ce7075a3058b2ce2a7499452eed8df">LTC_ADCMODE_FAST_DCP0</a></div><div class="ttdeci">@ LTC_ADCMODE_FAST_DCP0</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00099">ltc_defs.h:99</a></div></div>
<div class="ttc" id="altc__defs_8h_html_ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588"><div class="ttname"><a href="ltc__defs_8h.html#ae60a8db7d03c8a77fa2517dc07220dcaae7ec349b47cec6f8ee1bb0e009c35588">LTC_ENTRY</a></div><div class="ttdeci">@ LTC_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00165">ltc_defs.h:165</a></div></div>
<div class="ttc" id="aos_8h_html"><div class="ttname"><a href="os_8h.html">os.h</a></div><div class="ttdoc">Declaration of the OS wrapper interface.</div></div>
<div class="ttc" id="aos__freertos_8c_html_a83489428a970d8f77f122f41f4b6bc0a"><div class="ttname"><a href="os__freertos_8c.html#a83489428a970d8f77f122f41f4b6bc0a">OS_ExitTaskCritical</a></div><div class="ttdeci">void OS_ExitTaskCritical(void)</div><div class="ttdoc">Exit Critical interface function for use in FreeRTOS-Tasks and FreeRTOS-ISR.</div><div class="ttdef"><b>Definition:</b> <a href="os__freertos_8c_source.html#l00138">os_freertos.c:138</a></div></div>
<div class="ttc" id="aos__freertos_8c_html_ab8517d65da4e4805a64eda3fbec933de"><div class="ttname"><a href="os__freertos_8c.html#ab8517d65da4e4805a64eda3fbec933de">OS_EnterTaskCritical</a></div><div class="ttdeci">void OS_EnterTaskCritical(void)</div><div class="ttdoc">Enter Critical interface function for use in FreeRTOS-Tasks and FreeRTOS-ISR.</div><div class="ttdef"><b>Definition:</b> <a href="os__freertos_8c_source.html#l00134">os_freertos.c:134</a></div></div>
<div class="ttc" id="apex_8c_html_a8d40659d3d10755949d65e36f483c504"><div class="ttname"><a href="pex_8c.html#a8d40659d3d10755949d65e36f483c504">PEX_SetPin</a></div><div class="ttdeci">void PEX_SetPin(uint8_t portExpander, uint8_t pin)</div><div class="ttdoc">sets pin to high.</div><div class="ttdef"><b>Definition:</b> <a href="pex_8c_source.html#l00336">pex.c:336</a></div></div>
<div class="ttc" id="apex_8c_html_aa2309e9dbd95438d52d80cad62ce5a45"><div class="ttname"><a href="pex_8c.html#aa2309e9dbd95438d52d80cad62ce5a45">PEX_SetPinDirectionOutput</a></div><div class="ttdeci">void PEX_SetPinDirectionOutput(uint8_t portExpander, uint8_t pin)</div><div class="ttdoc">sets pin to input.</div><div class="ttdef"><b>Definition:</b> <a href="pex_8c_source.html#l00409">pex.c:409</a></div></div>
<div class="ttc" id="apex_8h_html"><div class="ttname"><a href="pex_8h.html">pex.h</a></div><div class="ttdoc">Header for the driver for the NXP PCA9539 port expander module.</div></div>
<div class="ttc" id="apex__cfg_8h_html_a2cc0607e44764dbfd3560f46bd1a415e"><div class="ttname"><a href="pex__cfg_8h.html#a2cc0607e44764dbfd3560f46bd1a415e">PEX_PIN16</a></div><div class="ttdeci">#define PEX_PIN16</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00096">pex_cfg.h:96</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_a2d28a4692bb7c682388844041da22ea8"><div class="ttname"><a href="pex__cfg_8h.html#a2d28a4692bb7c682388844041da22ea8">PEX_PIN13</a></div><div class="ttdeci">#define PEX_PIN13</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00093">pex_cfg.h:93</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_a5e0ac65967f709d23a7b112b167427e1"><div class="ttname"><a href="pex__cfg_8h.html#a5e0ac65967f709d23a7b112b167427e1">PEX_PIN10</a></div><div class="ttdeci">#define PEX_PIN10</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00090">pex_cfg.h:90</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_a8a86abfd92ccf493302572c849bcec46"><div class="ttname"><a href="pex__cfg_8h.html#a8a86abfd92ccf493302572c849bcec46">PEX_PORT_EXPANDER3</a></div><div class="ttdeci">#define PEX_PORT_EXPANDER3</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00077">pex_cfg.h:77</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_a91891161923cdb408e111071f9187dc6"><div class="ttname"><a href="pex__cfg_8h.html#a91891161923cdb408e111071f9187dc6">PEX_PIN17</a></div><div class="ttdeci">#define PEX_PIN17</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00097">pex_cfg.h:97</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_a9c6e3e6109c95dc082dd988d5c2786d7"><div class="ttname"><a href="pex__cfg_8h.html#a9c6e3e6109c95dc082dd988d5c2786d7">PEX_PIN12</a></div><div class="ttdeci">#define PEX_PIN12</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00092">pex_cfg.h:92</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_ab4d65fbed299469b715878267383162f"><div class="ttname"><a href="pex__cfg_8h.html#ab4d65fbed299469b715878267383162f">PEX_PIN15</a></div><div class="ttdeci">#define PEX_PIN15</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00095">pex_cfg.h:95</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_ad658651e99057473e45a9025a9b3571d"><div class="ttname"><a href="pex__cfg_8h.html#ad658651e99057473e45a9025a9b3571d">PEX_PIN11</a></div><div class="ttdeci">#define PEX_PIN11</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00091">pex_cfg.h:91</a></div></div>
<div class="ttc" id="apex__cfg_8h_html_aeff3962fe6d73a8d1356b35efc0ce081"><div class="ttname"><a href="pex__cfg_8h.html#aeff3962fe6d73a8d1356b35efc0ce081">PEX_PIN14</a></div><div class="ttdeci">#define PEX_PIN14</div><div class="ttdef"><b>Definition:</b> <a href="pex__cfg_8h_source.html#l00094">pex_cfg.h:94</a></div></div>
<div class="ttc" id="aspi__cfg_8c_html_ade6d2f4948d21b4efd6514817122670d"><div class="ttname"><a href="spi__cfg_8c.html#ade6d2f4948d21b4efd6514817122670d">spi_ltcInterface</a></div><div class="ttdeci">SPI_INTERFACE_CONFIG_s spi_ltcInterface[BS_NR_OF_STRINGS]</div><div class="ttdef"><b>Definition:</b> <a href="spi__cfg_8c_source.html#l00171">spi_cfg.c:171</a></div></div>
<div class="ttc" id="astructAFE__PLAUSIBILITY__VALUES__s_html"><div class="ttname"><a href="structAFE__PLAUSIBILITY__VALUES__s.html">AFE_PLAUSIBILITY_VALUES_s</a></div><div class="ttdoc">struct definition for plausibility values of an AFE</div><div class="ttdef"><b>Definition:</b> <a href="afe__plausibility_8h_source.html#l00072">afe_plausibility.h:72</a></div></div>
<div class="ttc" id="astructAFE__PLAUSIBILITY__VALUES__s_html_afa5e51c6216161014b5f957cc9690ef3"><div class="ttname"><a href="structAFE__PLAUSIBILITY__VALUES__s.html#afa5e51c6216161014b5f957cc9690ef3">AFE_PLAUSIBILITY_VALUES_s::maximumPlausibleVoltage_mV</a></div><div class="ttdeci">const int16_t maximumPlausibleVoltage_mV</div><div class="ttdef"><b>Definition:</b> <a href="afe__plausibility_8h_source.html#l00077">afe_plausibility.h:77</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__ALL__GPIO__VOLTAGES__s_html"><div class="ttname"><a href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html">DATA_BLOCK_ALL_GPIO_VOLTAGES_s</a></div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00314">database_cfg.h:314</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__ALL__GPIO__VOLTAGES__s_html_a31f7f38dc15e4e89cb0e9b2e3063f785"><div class="ttname"><a href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html#a31f7f38dc15e4e89cb0e9b2e3063f785">DATA_BLOCK_ALL_GPIO_VOLTAGES_s::gpioVoltages_mV</a></div><div class="ttdeci">int16_t gpioVoltages_mV[BS_NR_OF_STRINGS][BS_NR_OF_MODULES_PER_STRING *BS_NR_OF_GPIOS_PER_MODULE]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00320">database_cfg.h:320</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__ALL__GPIO__VOLTAGES__s_html_a7d9337b8bd5ab55dcdede92e213159ab"><div class="ttname"><a href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html#a7d9337b8bd5ab55dcdede92e213159ab">DATA_BLOCK_ALL_GPIO_VOLTAGES_s::state</a></div><div class="ttdeci">uint8_t state</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00319">database_cfg.h:319</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__ALL__GPIO__VOLTAGES__s_html_ab530980fc68e5c12eada6f81e6c78618"><div class="ttname"><a href="structDATA__BLOCK__ALL__GPIO__VOLTAGES__s.html#ab530980fc68e5c12eada6f81e6c78618">DATA_BLOCK_ALL_GPIO_VOLTAGES_s::header</a></div><div class="ttdeci">DATA_BLOCK_HEADER_s header</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00318">database_cfg.h:318</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__TEMPERATURE__s_html"><div class="ttname"><a href="structDATA__BLOCK__CELL__TEMPERATURE__s.html">DATA_BLOCK_CELL_TEMPERATURE_s</a></div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00145">database_cfg.h:145</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__TEMPERATURE__s_html_a76040c3bb5d88f1f64c912b713729e8b"><div class="ttname"><a href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#a76040c3bb5d88f1f64c912b713729e8b">DATA_BLOCK_CELL_TEMPERATURE_s::header</a></div><div class="ttdeci">DATA_BLOCK_HEADER_s header</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00149">database_cfg.h:149</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__TEMPERATURE__s_html_a8b521697ab4d2ec35a6a437444ddbe69"><div class="ttname"><a href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#a8b521697ab4d2ec35a6a437444ddbe69">DATA_BLOCK_CELL_TEMPERATURE_s::cellTemperature_ddegC</a></div><div class="ttdeci">int16_t cellTemperature_ddegC[BS_NR_OF_STRINGS][BS_NR_OF_TEMP_SENSORS_PER_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00151">database_cfg.h:151</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__TEMPERATURE__s_html_aa29242544edf6ca4b3416e4b00ad886d"><div class="ttname"><a href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#aa29242544edf6ca4b3416e4b00ad886d">DATA_BLOCK_CELL_TEMPERATURE_s::nrValidTemperatures</a></div><div class="ttdeci">uint16_t nrValidTemperatures[BS_NR_OF_STRINGS]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00154">database_cfg.h:154</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__TEMPERATURE__s_html_abb8215c63a3a165c26268d74fcb47d2d"><div class="ttname"><a href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#abb8215c63a3a165c26268d74fcb47d2d">DATA_BLOCK_CELL_TEMPERATURE_s::state</a></div><div class="ttdeci">uint8_t state</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00150">database_cfg.h:150</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__TEMPERATURE__s_html_acc598ea6d0dbdf669a91a5a1589a7b24"><div class="ttname"><a href="structDATA__BLOCK__CELL__TEMPERATURE__s.html#acc598ea6d0dbdf669a91a5a1589a7b24">DATA_BLOCK_CELL_TEMPERATURE_s::invalidCellTemperature</a></div><div class="ttdeci">uint16_t invalidCellTemperature[BS_NR_OF_STRINGS][BS_NR_OF_MODULES_PER_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00152">database_cfg.h:153</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__VOLTAGE__s_html"><div class="ttname"><a href="structDATA__BLOCK__CELL__VOLTAGE__s.html">DATA_BLOCK_CELL_VOLTAGE_s</a></div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00128">database_cfg.h:128</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__VOLTAGE__s_html_a06c3b844eb9b6a32c82714b787c6e83b"><div class="ttname"><a href="structDATA__BLOCK__CELL__VOLTAGE__s.html#a06c3b844eb9b6a32c82714b787c6e83b">DATA_BLOCK_CELL_VOLTAGE_s::packVoltage_mV</a></div><div class="ttdeci">int32_t packVoltage_mV[BS_NR_OF_STRINGS]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00134">database_cfg.h:134</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__VOLTAGE__s_html_a8c16ff93527cc78be60e6ab61fd9e454"><div class="ttname"><a href="structDATA__BLOCK__CELL__VOLTAGE__s.html#a8c16ff93527cc78be60e6ab61fd9e454">DATA_BLOCK_CELL_VOLTAGE_s::header</a></div><div class="ttdeci">DATA_BLOCK_HEADER_s header</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00132">database_cfg.h:132</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__VOLTAGE__s_html_ac62253aeb16ef62290d200a588744068"><div class="ttname"><a href="structDATA__BLOCK__CELL__VOLTAGE__s.html#ac62253aeb16ef62290d200a588744068">DATA_BLOCK_CELL_VOLTAGE_s::state</a></div><div class="ttdeci">uint8_t state</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00133">database_cfg.h:133</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__VOLTAGE__s_html_acdb110cf3241029726e8b1b3d84b3816"><div class="ttname"><a href="structDATA__BLOCK__CELL__VOLTAGE__s.html#acdb110cf3241029726e8b1b3d84b3816">DATA_BLOCK_CELL_VOLTAGE_s::invalidCellVoltage</a></div><div class="ttdeci">uint64_t invalidCellVoltage[BS_NR_OF_STRINGS][BS_NR_OF_MODULES_PER_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00137">database_cfg.h:138</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__VOLTAGE__s_html_ade0f288950cc010c54e3914178af1b5f"><div class="ttname"><a href="structDATA__BLOCK__CELL__VOLTAGE__s.html#ade0f288950cc010c54e3914178af1b5f">DATA_BLOCK_CELL_VOLTAGE_s::nrValidCellVoltages</a></div><div class="ttdeci">uint16_t nrValidCellVoltages[BS_NR_OF_STRINGS]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00139">database_cfg.h:139</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__CELL__VOLTAGE__s_html_af854ad1251714dd6c94701e5de88ecaa"><div class="ttname"><a href="structDATA__BLOCK__CELL__VOLTAGE__s.html#af854ad1251714dd6c94701e5de88ecaa">DATA_BLOCK_CELL_VOLTAGE_s::cellVoltage_mV</a></div><div class="ttdeci">int16_t cellVoltage_mV[BS_NR_OF_STRINGS][BS_NR_OF_CELL_BLOCKS_PER_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00135">database_cfg.h:135</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__HEADER__s_html_ae8be8cd14e24d79a79a565efd53d6933"><div class="ttname"><a href="structDATA__BLOCK__HEADER__s.html#ae8be8cd14e24d79a79a565efd53d6933">DATA_BLOCK_HEADER_s::uniqueId</a></div><div class="ttdeci">DATA_BLOCK_ID_e uniqueId</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00122">database_cfg.h:122</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__OPEN__WIRE__s_html"><div class="ttname"><a href="structDATA__BLOCK__OPEN__WIRE__s.html">DATA_BLOCK_OPEN_WIRE_s</a></div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00301">database_cfg.h:301</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__OPEN__WIRE__s_html_a0f29cf66d02b9d86b6e0a86ca2b8da9d"><div class="ttname"><a href="structDATA__BLOCK__OPEN__WIRE__s.html#a0f29cf66d02b9d86b6e0a86ca2b8da9d">DATA_BLOCK_OPEN_WIRE_s::header</a></div><div class="ttdeci">DATA_BLOCK_HEADER_s header</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00305">database_cfg.h:305</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__OPEN__WIRE__s_html_a322c6566fc769073ad3a7227fdb92f1d"><div class="ttname"><a href="structDATA__BLOCK__OPEN__WIRE__s.html#a322c6566fc769073ad3a7227fdb92f1d">DATA_BLOCK_OPEN_WIRE_s::nrOpenWires</a></div><div class="ttdeci">uint16_t nrOpenWires[BS_NR_OF_STRINGS]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00307">database_cfg.h:307</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__OPEN__WIRE__s_html_a71f7e7f3069d97c971b8aac2f02e1ddb"><div class="ttname"><a href="structDATA__BLOCK__OPEN__WIRE__s.html#a71f7e7f3069d97c971b8aac2f02e1ddb">DATA_BLOCK_OPEN_WIRE_s::state</a></div><div class="ttdeci">uint8_t state</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00306">database_cfg.h:306</a></div></div>
<div class="ttc" id="astructDATA__BLOCK__OPEN__WIRE__s_html_ae85678a25680604aea15777af3546cb8"><div class="ttname"><a href="structDATA__BLOCK__OPEN__WIRE__s.html#ae85678a25680604aea15777af3546cb8">DATA_BLOCK_OPEN_WIRE_s::openWire</a></div><div class="ttdeci">uint8_t openWire[BS_NR_OF_STRINGS][BS_NR_OF_MODULES_PER_STRING *(BS_NR_OF_CELL_BLOCKS_PER_MODULE+1u)]</div><div class="ttdef"><b>Definition:</b> <a href="database__cfg_8h_source.html#l00308">database_cfg.h:310</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a06435aa3ba4dae541c63202f61cb513a"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a06435aa3ba4dae541c63202f61cb513a">LTC_DATAPTR_s::openWireDetection</a></div><div class="ttdeci">LTC_OPENWIRE_DETECTION_s * openWireDetection</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00451">ltc_defs.h:451</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a1c1ae86334054d91e91cf40815a6b19b"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a1c1ae86334054d91e91cf40815a6b19b">LTC_DATAPTR_s::allGpioVoltages</a></div><div class="ttdeci">DATA_BLOCK_ALL_GPIO_VOLTAGES_s * allGpioVoltages</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00448">ltc_defs.h:448</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a39d354a665d96b2d1bcd77bacd6e1ec6"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a39d354a665d96b2d1bcd77bacd6e1ec6">LTC_DATAPTR_s::cellVoltage</a></div><div class="ttdeci">DATA_BLOCK_CELL_VOLTAGE_s * cellVoltage</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00443">ltc_defs.h:443</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a3dd59c938d2e3a345ff0ad4d75cf06f5"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a3dd59c938d2e3a345ff0ad4d75cf06f5">LTC_DATAPTR_s::cellTemperature</a></div><div class="ttdeci">DATA_BLOCK_CELL_TEMPERATURE_s * cellTemperature</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00444">ltc_defs.h:444</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a3fcf848e34b532a489cd0a6170f9817c"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a3fcf848e34b532a489cd0a6170f9817c">LTC_DATAPTR_s::txBuffer</a></div><div class="ttdeci">uint16_t * txBuffer</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00440">ltc_defs.h:440</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a408459601b669f8fac883a9b808769c8"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a408459601b669f8fac883a9b808769c8">LTC_DATAPTR_s::errorTable</a></div><div class="ttdeci">LTC_ERRORTABLE_s * errorTable</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00452">ltc_defs.h:452</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a6ebfa376b364c45a3aa8e85d70087b90"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a6ebfa376b364c45a3aa8e85d70087b90">LTC_DATAPTR_s::pSpiInterface</a></div><div class="ttdeci">SPI_INTERFACE_CONFIG_s * pSpiInterface</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00439">ltc_defs.h:439</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a7304d814bbcddd982b40de16612c46bd"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a7304d814bbcddd982b40de16612c46bd">LTC_DATAPTR_s::rxBuffer</a></div><div class="ttdeci">uint16_t * rxBuffer</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00441">ltc_defs.h:441</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a753840c579380cd9ca258721577010a6"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a753840c579380cd9ca258721577010a6">LTC_DATAPTR_s::usedCellIndex</a></div><div class="ttdeci">uint16_t * usedCellIndex</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00450">ltc_defs.h:450</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a7defbf2c38de12711ad50da7f51e5ea3"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a7defbf2c38de12711ad50da7f51e5ea3">LTC_DATAPTR_s::frameLength</a></div><div class="ttdeci">uint32_t frameLength</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00442">ltc_defs.h:442</a></div></div>
<div class="ttc" id="astructLTC__DATAPTR__s_html_a9d355a1e86ee65d5cc83734c059559c8"><div class="ttname"><a href="structLTC__DATAPTR__s.html#a9d355a1e86ee65d5cc83734c059559c8">LTC_DATAPTR_s::openWire</a></div><div class="ttdeci">DATA_BLOCK_OPEN_WIRE_s * openWire</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00449">ltc_defs.h:449</a></div></div>
<div class="ttc" id="astructLTC__ERRORTABLE__s_html"><div class="ttname"><a href="structLTC__ERRORTABLE__s.html">LTC_ERRORTABLE_s</a></div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00071">ltc_defs.h:71</a></div></div>
<div class="ttc" id="astructLTC__ERRORTABLE__s_html_a438cc776a5faca8e00eb941fa11cb007"><div class="ttname"><a href="structLTC__ERRORTABLE__s.html#a438cc776a5faca8e00eb941fa11cb007">LTC_ERRORTABLE_s::PEC_valid</a></div><div class="ttdeci">uint8_t PEC_valid[BS_NR_OF_STRINGS][LTC_N_LTC]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00072">ltc_defs.h:72</a></div></div>
<div class="ttc" id="astructLTC__ERRORTABLE__s_html_a5703cc298da1b3a55c2abbe10e9c8657"><div class="ttname"><a href="structLTC__ERRORTABLE__s.html#a5703cc298da1b3a55c2abbe10e9c8657">LTC_ERRORTABLE_s::mux3</a></div><div class="ttdeci">uint8_t mux3[BS_NR_OF_STRINGS][LTC_N_LTC]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00076">ltc_defs.h:76</a></div></div>
<div class="ttc" id="astructLTC__ERRORTABLE__s_html_a750b6ffe0756bca9e0a1064151935afc"><div class="ttname"><a href="structLTC__ERRORTABLE__s.html#a750b6ffe0756bca9e0a1064151935afc">LTC_ERRORTABLE_s::mux2</a></div><div class="ttdeci">uint8_t mux2[BS_NR_OF_STRINGS][LTC_N_LTC]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00075">ltc_defs.h:75</a></div></div>
<div class="ttc" id="astructLTC__ERRORTABLE__s_html_a9656976bb611fcec50080d68b8315ea9"><div class="ttname"><a href="structLTC__ERRORTABLE__s.html#a9656976bb611fcec50080d68b8315ea9">LTC_ERRORTABLE_s::mux0</a></div><div class="ttdeci">uint8_t mux0[BS_NR_OF_STRINGS][LTC_N_LTC]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00073">ltc_defs.h:73</a></div></div>
<div class="ttc" id="astructLTC__ERRORTABLE__s_html_aa243b24757eec45af60307d9a42c8c19"><div class="ttname"><a href="structLTC__ERRORTABLE__s.html#aa243b24757eec45af60307d9a42c8c19">LTC_ERRORTABLE_s::mux1</a></div><div class="ttdeci">uint8_t mux1[BS_NR_OF_STRINGS][LTC_N_LTC]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00074">ltc_defs.h:74</a></div></div>
<div class="ttc" id="astructLTC__OPENWIRE__DETECTION__s_html"><div class="ttname"><a href="structLTC__OPENWIRE__DETECTION__s.html">LTC_OPENWIRE_DETECTION_s</a></div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00080">ltc_defs.h:80</a></div></div>
<div class="ttc" id="astructLTC__OPENWIRE__DETECTION__s_html_a4a7443704177c66ce1550d8336527b1b"><div class="ttname"><a href="structLTC__OPENWIRE__DETECTION__s.html#a4a7443704177c66ce1550d8336527b1b">LTC_OPENWIRE_DETECTION_s::openWireDelta</a></div><div class="ttdeci">int32_t openWireDelta[BS_NR_OF_STRINGS][BS_NR_OF_CELL_BLOCKS_PER_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00083">ltc_defs.h:83</a></div></div>
<div class="ttc" id="astructLTC__OPENWIRE__DETECTION__s_html_a69bde0ea0b4e2538e2c5cb4dcbe73f7b"><div class="ttname"><a href="structLTC__OPENWIRE__DETECTION__s.html#a69bde0ea0b4e2538e2c5cb4dcbe73f7b">LTC_OPENWIRE_DETECTION_s::openWirePdown</a></div><div class="ttdeci">int16_t openWirePdown[BS_NR_OF_STRINGS][BS_NR_OF_CELL_BLOCKS_PER_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00082">ltc_defs.h:82</a></div></div>
<div class="ttc" id="astructLTC__OPENWIRE__DETECTION__s_html_a9a39900629014eaa06b50ad3abb32600"><div class="ttname"><a href="structLTC__OPENWIRE__DETECTION__s.html#a9a39900629014eaa06b50ad3abb32600">LTC_OPENWIRE_DETECTION_s::openWirePup</a></div><div class="ttdeci">int16_t openWirePup[BS_NR_OF_STRINGS][BS_NR_OF_CELL_BLOCKS_PER_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00081">ltc_defs.h:81</a></div></div>
<div class="ttc" id="astructLTC__REQUEST__s_html"><div class="ttname"><a href="structLTC__REQUEST__s.html">LTC_REQUEST_s</a></div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00514">ltc_defs.h:514</a></div></div>
<div class="ttc" id="astructLTC__REQUEST__s_html_aabac74566357e4cfa8c58cde9f391988"><div class="ttname"><a href="structLTC__REQUEST__s.html#aabac74566357e4cfa8c58cde9f391988">LTC_REQUEST_s::request</a></div><div class="ttdeci">LTC_STATE_REQUEST_e request</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00515">ltc_defs.h:515</a></div></div>
<div class="ttc" id="astructLTC__REQUEST__s_html_ab3356bb0dbc5270b676f7c841309777d"><div class="ttname"><a href="structLTC__REQUEST__s.html#ab3356bb0dbc5270b676f7c841309777d">LTC_REQUEST_s::string</a></div><div class="ttdeci">uint8_t string</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00516">ltc_defs.h:516</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html"><div class="ttname"><a href="structLTC__STATE__s.html">LTC_STATE_s</a></div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00523">ltc_defs.h:523</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a0591aa634286a42119f7188cdffcf377"><div class="ttname"><a href="structLTC__STATE__s.html#a0591aa634286a42119f7188cdffcf377">LTC_STATE_s::commandDataTransferTime</a></div><div class="ttdeci">uint32_t commandDataTransferTime</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00547">ltc_defs.h:547</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a09f946c25d4d25fba854793fe5a162e8"><div class="ttname"><a href="structLTC__STATE__s.html#a09f946c25d4d25fba854793fe5a162e8">LTC_STATE_s::ltcData</a></div><div class="ttdeci">LTC_DATAPTR_s ltcData</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00582">ltc_defs.h:582</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a1d4632c1ccdc8aa0bcf051889a1bdf27"><div class="ttname"><a href="structLTC__STATE__s.html#a1d4632c1ccdc8aa0bcf051889a1bdf27">LTC_STATE_s::adcModereq</a></div><div class="ttdeci">LTC_ADCMODE_e adcModereq</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00534">ltc_defs.h:534</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a20ead55b334859d98be966433f403707"><div class="ttname"><a href="structLTC__STATE__s.html#a20ead55b334859d98be966433f403707">LTC_STATE_s::statereq</a></div><div class="ttdeci">LTC_REQUEST_s statereq</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00526">ltc_defs.h:526</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a331332adfbd0bcc3371a2dab193ce88b"><div class="ttname"><a href="structLTC__STATE__s.html#a331332adfbd0bcc3371a2dab193ce88b">LTC_STATE_s::triggerentry</a></div><div class="ttdeci">uint8_t triggerentry</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00545">ltc_defs.h:545</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a53df21535de3efd64e389367e63220b9"><div class="ttname"><a href="structLTC__STATE__s.html#a53df21535de3efd64e389367e63220b9">LTC_STATE_s::spiSeqPtr</a></div><div class="ttdeci">SPI_INTERFACE_CONFIG_s * spiSeqPtr</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00572">ltc_defs.h:572</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a5e7d10bbac9597d1b13cdb503f2d609d"><div class="ttname"><a href="structLTC__STATE__s.html#a5e7d10bbac9597d1b13cdb503f2d609d">LTC_STATE_s::commandTransferTime</a></div><div class="ttdeci">uint32_t commandTransferTime</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00548">ltc_defs.h:548</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a5ed1bdc06a085f49f81c09422cb031d5"><div class="ttname"><a href="structLTC__STATE__s.html#a5ed1bdc06a085f49f81c09422cb031d5">LTC_STATE_s::spiSeqEndPtr</a></div><div class="ttdeci">SPI_INTERFACE_CONFIG_s * spiSeqEndPtr</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00573">ltc_defs.h:573</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a68f0fb4a796f73cca2fce65402e23c1b"><div class="ttname"><a href="structLTC__STATE__s.html#a68f0fb4a796f73cca2fce65402e23c1b">LTC_STATE_s::substate</a></div><div class="ttdeci">uint8_t substate</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00528">ltc_defs.h:528</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a6a76e850940e0ec911ea8ed2ed3d2bdc"><div class="ttname"><a href="structLTC__STATE__s.html#a6a76e850940e0ec911ea8ed2ed3d2bdc">LTC_STATE_s::laststate</a></div><div class="ttdeci">LTC_STATEMACH_e laststate</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00529">ltc_defs.h:529</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a7fedd36e8acb6dbdea29d63cdd54458c"><div class="ttname"><a href="structLTC__STATE__s.html#a7fedd36e8acb6dbdea29d63cdd54458c">LTC_STATE_s::lastsubstate</a></div><div class="ttdeci">uint8_t lastsubstate</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00530">ltc_defs.h:530</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a84c6501bbd0da00e3cc7a9f0a002505c"><div class="ttname"><a href="structLTC__STATE__s.html#a84c6501bbd0da00e3cc7a9f0a002505c">LTC_STATE_s::adcMeasCh</a></div><div class="ttdeci">LTC_ADCMEAS_CHAN_e adcMeasCh</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00536">ltc_defs.h:536</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a894038e1fe42aeb05fd5c69a8b5f9aff"><div class="ttname"><a href="structLTC__STATE__s.html#a894038e1fe42aeb05fd5c69a8b5f9aff">LTC_STATE_s::reusageMeasurementMode</a></div><div class="ttdeci">LTC_REUSE_MODE_e reusageMeasurementMode</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00562">ltc_defs.h:562</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a8c0708bc6bcc2bffa7d1c1271986f210"><div class="ttname"><a href="structLTC__STATE__s.html#a8c0708bc6bcc2bffa7d1c1271986f210">LTC_STATE_s::gpioClocksTransferTime</a></div><div class="ttdeci">uint32_t gpioClocksTransferTime</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00550">ltc_defs.h:550</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a8f4edcd404244101bb5e534ea3fc76bc"><div class="ttname"><a href="structLTC__STATE__s.html#a8f4edcd404244101bb5e534ea3fc76bc">LTC_STATE_s::timer</a></div><div class="ttdeci">uint16_t timer</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00524">ltc_defs.h:524</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a91dda307d6ba4eec702047028793898f"><div class="ttname"><a href="structLTC__STATE__s.html#a91dda307d6ba4eec702047028793898f">LTC_STATE_s::resendCommandCounter</a></div><div class="ttdeci">uint8_t resendCommandCounter</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00569">ltc_defs.h:569</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_a9818917df5fe61ad9aac40a6e4b9e11a"><div class="ttname"><a href="structLTC__STATE__s.html#a9818917df5fe61ad9aac40a6e4b9e11a">LTC_STATE_s::state</a></div><div class="ttdeci">LTC_STATEMACH_e state</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00527">ltc_defs.h:527</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_aa14de93780dfea58993f39ebef2b031d"><div class="ttname"><a href="structLTC__STATE__s.html#aa14de93780dfea58993f39ebef2b031d">LTC_STATE_s::spiNumberInterfaces</a></div><div class="ttdeci">uint8_t spiNumberInterfaces</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00574">ltc_defs.h:574</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_ac12ba51727d64a23407affe8becf9068"><div class="ttname"><a href="structLTC__STATE__s.html#ac12ba51727d64a23407affe8becf9068">LTC_STATE_s::adcMode</a></div><div class="ttdeci">LTC_ADCMODE_e adcMode</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00531">ltc_defs.h:531</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_ac1d7d7394acbf37e9220e4b6ca75428f"><div class="ttname"><a href="structLTC__STATE__s.html#ac1d7d7394acbf37e9220e4b6ca75428f">LTC_STATE_s::currentString</a></div><div class="ttdeci">uint8_t currentString</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00575">ltc_defs.h:575</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_ac9dcdebbd57b115a418f615536fa6ee8"><div class="ttname"><a href="structLTC__STATE__s.html#ac9dcdebbd57b115a418f615536fa6ee8">LTC_STATE_s::ErrRequestCounter</a></div><div class="ttdeci">uint32_t ErrRequestCounter</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00544">ltc_defs.h:544</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_ae0214743a85df810f2635a718ff304a4"><div class="ttname"><a href="structLTC__STATE__s.html#ae0214743a85df810f2635a718ff304a4">LTC_STATE_s::check_spi_flag</a></div><div class="ttdeci">STD_RETURN_TYPE_e check_spi_flag</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00567">ltc_defs.h:567</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_ae6370db3fede30503de9811d3725b3a3"><div class="ttname"><a href="structLTC__STATE__s.html#ae6370db3fede30503de9811d3725b3a3">LTC_STATE_s::first_measurement_made</a></div><div class="ttdeci">bool first_measurement_made</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00564">ltc_defs.h:564</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_af06345711dd29d77a3a86185c0a0a7da"><div class="ttname"><a href="structLTC__STATE__s.html#af06345711dd29d77a3a86185c0a0a7da">LTC_STATE_s::requestedString</a></div><div class="ttdeci">uint8_t requestedString</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00576">ltc_defs.h:576</a></div></div>
<div class="ttc" id="astructLTC__STATE__s_html_af272b0e870d0602fe6b646facce95ecf"><div class="ttname"><a href="structLTC__STATE__s.html#af272b0e870d0602fe6b646facce95ecf">LTC_STATE_s::adcMeasChreq</a></div><div class="ttdeci">LTC_ADCMEAS_CHAN_e adcMeasChreq</div><div class="ttdef"><b>Definition:</b> <a href="ltc__defs_8h_source.html#l00538">ltc_defs.h:538</a></div></div>
<div class="ttc" id="astructSPI__INTERFACE__CONFIG__s_html"><div class="ttname"><a href="structSPI__INTERFACE__CONFIG__s.html">SPI_INTERFACE_CONFIG_s</a></div><div class="ttdef"><b>Definition:</b> <a href="spi__cfg_8h_source.html#l00125">spi_cfg.h:125</a></div></div>
<div class="ttc" id="astructSPI__INTERFACE__CONFIG__s_html_af572fcc78c380c9e7f17251154f90906"><div class="ttname"><a href="structSPI__INTERFACE__CONFIG__s.html#af572fcc78c380c9e7f17251154f90906">SPI_INTERFACE_CONFIG_s::pNode</a></div><div class="ttdeci">spiBASE_t * pNode</div><div class="ttdef"><b>Definition:</b> <a href="spi__cfg_8h_source.html#l00127">spi_cfg.h:127</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_5194e5fea318fda12687127c23f8aba1.html">app</a></li><li class="navelem"><a class="el" href="dir_c032a60ed447cafb6a8dfe00b963b69b.html">driver</a></li><li class="navelem"><a class="el" href="dir_c529484326deb4b25ed7b3e80a39a3f4.html">afe</a></li><li class="navelem"><a class="el" href="dir_57f4204892374f1c9e4278538fb5c78f.html">ltc</a></li><li class="navelem"><a class="el" href="dir_9c4484ec70030dcc322b0c426403e6ab.html">6806</a></li><li class="navelem"><a class="el" href="ltc__6806_8c.html">ltc_6806.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons license" style="border-width:0;height:24px" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a> </li>
  </ul>
</div>
</body>
</html>
