<!-- https://stackoverflow.com/a/53329712 -->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. System Voltage And Current Monitoring &mdash; foxBMS 2 1.5.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1. DBC File" href="../tools/dbc.html" />
    <link rel="prev" title="1. System Introduction" href="system-introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> foxBMS 2
            <img src="../_static/foxbms250px.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/releases.html">1. Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/changelog.html">2. Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/motivation.html">3. Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/safety/safety.html">4. Safety</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/license.html">5. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/team.html">6. Team</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/abbreviations-definitions.html">1. Abbreviations and Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/naming-conventions.html">2. Naming Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/bms-overview.html">3. The foxBMS 2 Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/use-case.html">4. Use Case</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/getting-started.html">1. Getting Started with foxBMS 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/repository-structure.html">2. Repository Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/software-installation.html">3. Software Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/workspace.html">4. Creating a Workspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-steps-on-hardware.html">5. First Steps on Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/configuration/configuration.html">1. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/build/build.html">2. Building the Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/overview/sw-overview.html">3. Software Structure Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/modules/modules.html">4. Software Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/unit-tests/unit-tests.html">5. Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/build-process/build-process.html">6. Build Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/build-environment/build-environment.html">7. Build Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/how-to/how-to.html">8. How-to</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/linker-script/linker-script.html">9. Linker Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/architecture/architecture.html">10. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/api/overview.html">11. API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hardware Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hardware/hardware.html">1. Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/design-resources.html">2. Design Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/connectors.html">3. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/master.html">4. Master Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/slaves.html">5. Slaves Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/interfaces.html">6. Interfaces Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">System Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="system-introduction.html">1. System Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. System Voltage And Current Monitoring</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/dbc.html">1. DBC File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/gui/gui.html">2. foxBMS 2 GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/waf-tools/waf-tools.html">3. Waf Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/debugger/debug-application.html">4. Debugging the Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/halcogen/halcogen.html">5. HALCoGen tool documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/static-analysis/axivion.html">6. Axivion Bauhaus Suite</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer-manual/preface.html">1. Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-manual/style-guide/style-guide.html">2. Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-manual/software-developer-manual.html">3. Software Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-manual/hardware-developer-manual.html">4. Hardware Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-manual/public-release-process.html">5. Public Release Process</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/acknowledgements.html">1. Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/indices-and-tables.html">2. Indices and Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/bibliography.html">3. Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">foxBMS 2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">2. </span>System Voltage And Current Monitoring</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/system/system-voltage-and-current-monitoring.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

           <div itemprop="articleBody">
             
  <div class="section" id="system-voltage-and-current-monitoring">
<span id="id1"></span><h1><span class="section-number">2. </span>System Voltage And Current Monitoring<a class="headerlink" href="#system-voltage-and-current-monitoring" title="Permalink to this headline"></a></h1>
<p>Several different voltages inside a battery system need to be measured.
The exact number of voltages is dependent on the system topology and the
configuration of the battery system.</p>
<p><a class="reference internal" href="../introduction/bms-overview.html#start-high-level"><span class="std std-numref">Fig. 3.1</span></a> shows the voltages that need to measured in a
multi-string system, here for example for a 3-string system.
The symbols are explained in <a class="reference internal" href="#symbols-in-system-block-diagram"><span class="std std-numref">Table 2.7</span></a>.
The colors are explained in <a class="reference internal" href="#colors-in-system-block-diagram"><span class="std std-numref">Table 2.8</span></a>.</p>
<p>The left side of the image shows the <em>Battery Pack</em>.
The <em>Battery Junction Box</em> is depicted in the center of the figure with an
indicated connected application shown on the right side the of the picture.</p>
<div class="figure align-center" id="voltages-in-multi-string-system">
<a class="reference external image-reference" href="../_images/battery-system-setup.png"><img alt="Voltages to be measured in a multi-string system" src="../_images/battery-system-setup.png" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2 </span><span class="caption-text">Voltages of interest in a multi-string system (click to enlarge)</span><a class="headerlink" href="#voltages-in-multi-string-system" title="Permalink to this image"></a></p>
</div>
<table class="docutils align-default" id="symbols-in-system-block-diagram">
<caption><span class="caption-number">Table 2.7 </span><span class="caption-text">Symbol description</span><a class="headerlink" href="#symbols-in-system-block-diagram" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><img alt="contactor" src="../_images/contactor.png" /></p></td>
<td><p>Contactor</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="current-sensor" src="../_images/current-sensor.png" /></p></td>
<td><p>Current sensor</p></td>
</tr>
<tr class="row-even"><td><p><img alt="fuse" src="../_images/fuse.png" /></p></td>
<td><p>Fuse</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="imd" src="../_images/imd.png" /></p></td>
<td><p>Insulation measurement device</p></td>
</tr>
<tr class="row-even"><td><p><img alt="inverter" src="../_images/inverter.png" /></p></td>
<td><p>Inverter</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="msd" src="../_images/msd.png" /></p></td>
<td><p>Manual service disconnect</p></td>
</tr>
<tr class="row-even"><td><p><img alt="resistor" src="../_images/resistor.png" /></p></td>
<td><p>Resistor</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="colors-in-system-block-diagram">
<caption><span class="caption-number">Table 2.8 </span><span class="caption-text">Color description</span><a class="headerlink" href="#colors-in-system-block-diagram" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><img alt="red" src="../_images/red.png" /></p></td>
<td><p>Power path</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="dotted-red" src="../_images/dotted-red.png" /></p></td>
<td><p>Second power path (optional)</p></td>
</tr>
<tr class="row-even"><td><p><img alt="purple" src="../_images/purple.png" /></p></td>
<td><p>CAN</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="dark-yellow" src="../_images/dark-yellow.png" /></p></td>
<td><p>Contactor control and feedback</p></td>
</tr>
<tr class="row-even"><td><p><img alt="dark-blue" src="../_images/dark-blue.png" /></p></td>
<td><p>Insulation measurement line</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="blue" src="../_images/blue.png" /></p></td>
<td><p>Daisy-chain</p></td>
</tr>
</tbody>
</table>
<div class="section" id="multi-string-system">
<h2><span class="section-number">2.1. </span>Multi-String System<a class="headerlink" href="#multi-string-system" title="Permalink to this headline"></a></h2>
<p>The following section describes important parameters within a multi-string
battery pack.</p>
<div class="section" id="measurements-inside-the-battery-pack">
<h3><span class="section-number">2.1.1. </span>Measurements Inside the Battery Pack<a class="headerlink" href="#measurements-inside-the-battery-pack" title="Permalink to this headline"></a></h3>
<div class="figure align-center" id="voltages-in-multi-string-system-in-pack">
<a class="reference external image-reference" href="../_images/battery-system-setup-pack.png"><img alt="Voltages to be measured in a multi-string system in the pack" src="../_images/battery-system-setup-pack.png" /></a>
<p class="caption"><span class="caption-number">Fig. 2.3 </span><span class="caption-text">Voltages to be measured in a multi-string system inside the battery pack
(click to enlarge)</span><a class="headerlink" href="#voltages-in-multi-string-system-in-pack" title="Permalink to this image"></a></p>
</div>
<p>The strings are depicted in ascending order from right to left starting with
string 1 (<code class="docutils literal notranslate"><span class="pre">S1</span></code>) until left-most string m (<code class="docutils literal notranslate"><span class="pre">Sm</span></code>).
Each string consists of <code class="docutils literal notranslate"><span class="pre">n</span></code> modules, where every module has its own foxBMS Slave Unit.
Each string features a current sensor, a string fuse and one or two string
contactors.
Thus, the following voltages need to be measured in each string:</p>
<ul class="simple">
<li><p><em>String voltage</em>, short V<sub>Sm</sub>, where <code class="docutils literal notranslate"><span class="pre">m</span></code> indicates the number of
the string.</p></li>
<li><p><em>Fused string voltage</em>, short V<sub>FSm</sub>, where <code class="docutils literal notranslate"><span class="pre">m</span></code> indicates the number
of the string.
It is measured between the lowest module and after the string fuse.</p></li>
<li><p><em>Pack voltage</em>, short V<sub>Pm</sub>, where <code class="docutils literal notranslate"><span class="pre">m</span></code> indicates the number
of the string.
It is measured between the negative pole of the lowest module and behind the
positive string contactor.
This voltage is identical for all connected strings and enables measurement
validation.</p></li>
</ul>
<p>The current sensor additional measures each string current.</p>
<p>Comprehension of measured voltages and current in the pack:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V<sub>Sm</sub></p></td>
<td><p>Voltage of string m</p></td>
</tr>
<tr class="row-odd"><td><p>V<sub>FSm</sub></p></td>
<td><p>Voltage after string fuse of string m</p></td>
</tr>
<tr class="row-even"><td><p>V<sub>Pm</sub></p></td>
<td><p>Pack voltage</p></td>
</tr>
<tr class="row-odd"><td><p>I<sub>Sm</sub></p></td>
<td><p>Current in string m</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="single-string-system">
<h2><span class="section-number">2.2. </span>Single-String System<a class="headerlink" href="#single-string-system" title="Permalink to this headline"></a></h2>
<p>A single-string system reduces the amount of required voltage and current
measurements.
<a class="reference internal" href="#measurements-in-single-string-system"><span class="std std-numref">Fig. 2.4</span></a> shows the single-string
topology.</p>
<div class="figure align-center" id="measurements-in-single-string-system">
<a class="reference external image-reference" href="../_images/battery-system-setup-single-string.png"><img alt="Voltages and current to be measured in a single-string system" src="../_images/battery-system-setup-single-string.png" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4 </span><span class="caption-text">Voltages and current to be measured in a single-string system (click to
enlarge)</span><a class="headerlink" href="#measurements-in-single-string-system" title="Permalink to this image"></a></p>
</div>
<p>The list of measurements is therefore reduced to
<a class="reference internal" href="#pack-measurements-single-string-system"><span class="std std-numref">Table 2.9</span></a> and no further measurements
inside the string are required.</p>
<table class="docutils align-default" id="pack-measurements-single-string-system">
<caption><span class="caption-number">Table 2.9 </span><span class="caption-text">List of measurements in single-string system</span><a class="headerlink" href="#pack-measurements-single-string-system" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V<sub>P</sub></p></td>
<td><p>Pack voltage</p></td>
</tr>
<tr class="row-odd"><td><p>V<sub>FP</sub></p></td>
<td><p>Pack voltage after main fuse</p></td>
</tr>
<tr class="row-even"><td><p>V<sub>SV</sub></p></td>
<td><p>System voltage</p></td>
</tr>
<tr class="row-odd"><td><p>V<sub>SV2</sub></p></td>
<td><p>System voltage: second power path</p></td>
</tr>
<tr class="row-even"><td><p>I<sub>P</sub></p></td>
<td><p>Pack current</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="measurements-inside-the-battery-junction-box">
<h2><span class="section-number">2.3. </span>Measurements Inside the Battery Junction Box<a class="headerlink" href="#measurements-inside-the-battery-junction-box" title="Permalink to this headline"></a></h2>
<div class="figure align-center" id="voltages-in-multi-string-system-in-bjb">
<a class="reference external image-reference" href="../_images/battery-system-setup-bjb.png"><img alt="Voltages to be measured in a multi string system in the BJB" src="../_images/battery-system-setup-bjb.png" /></a>
<p class="caption"><span class="caption-number">Fig. 2.5 </span><span class="caption-text">Voltages to be measured in a multi-string system in the BJB (click to
enlarge)</span><a class="headerlink" href="#voltages-in-multi-string-system-in-bjb" title="Permalink to this image"></a></p>
</div>
<ul class="simple">
<li><p>The pack voltage is measured before the main fuse.</p></li>
<li><p>The fused pack voltage is measured after the main fuse.</p></li>
<li><p>The system voltage is measured after the contactors.</p></li>
<li><p><strong>optional</strong>: If the system uses a second power path, the second power path
voltage is measured after the contactors of the second power path.</p></li>
</ul>
<p>Comprehension of measured voltages and current in the battery junction box:</p>
<table class="docutils align-default" id="pack-measurements-multi-string-system">
<caption><span class="caption-number">Table 2.10 </span><span class="caption-text">List of measurements in multi-string system</span><a class="headerlink" href="#pack-measurements-multi-string-system" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V<sub>P</sub></p></td>
<td><p>Pack voltage</p></td>
</tr>
<tr class="row-odd"><td><p>V<sub>FP</sub></p></td>
<td><p>Pack voltage after main fuse</p></td>
</tr>
<tr class="row-even"><td><p>V<sub>SV</sub></p></td>
<td><p>System voltage</p></td>
</tr>
<tr class="row-odd"><td><p>V<sub>SV2</sub></p></td>
<td><p>System voltage: second power path</p></td>
</tr>
<tr class="row-even"><td><p>I<sub>P</sub></p></td>
<td><p>Pack current</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
<a href="https://github.com/foxBMS/foxbms-2">
    <img style="position: absolute; top: 0; right: 0; border: 0;"
        src="../_static/forkme.png" alt="Fork me on GitHub">
</a>

          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="system-introduction.html" class="btn btn-neutral float-left" title="1. System Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../tools/dbc.html" class="btn btn-neutral float-right" title="1. DBC File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2010 - 2023, Fraunhofer-Gesellschaft zur Foerderung der angewandten Forschung e.V. All rights reserved. See license section for further information.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>